(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["class-list"],{"2f21":function(t,e,i){"use strict";var n=i("79e5");t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},4058:function(t,e,i){"use strict";var n=i("ee3d"),a=i.n(n);a.a},"55dd":function(t,e,i){"use strict";var n=i("5ca1"),a=i("d8e8"),o=i("4bf8"),s=i("79e5"),r=[].sort,c=[1,2,3];n(n.P+n.F*(s(function(){c.sort(void 0)})||!s(function(){c.sort(null)})||!i("2f21")(r)),"Array",{sort:function(t){return void 0===t?r.call(o(this)):r.call(o(this),a(t))}})},a21f:function(t,e,i){"use strict";i.d(e,"b",function(){return o}),i.d(e,"d",function(){return s}),i.d(e,"e",function(){return r}),i.d(e,"a",function(){return c}),i.d(e,"c",function(){return l});var n=i("ac2d"),a=null;function o(t){var e=t.force,i=void 0!==e&&e,o=t.vm;return new Promise(function(t,e){if(a&&!i)t(a);else if(n["a"].sourceType())n["a"].gainLocation(function(i){var n=i.result;n&&n.gdLatitude&&n.gdLongitude?(a=n,t(n)):e(new Error("获取位置失败"))},o);else{var s={gdLatitude:"31.24916171",gdLongitude:"121.48789949"};t(s)}})}function s(){return new Promise(function(t,e){n["a"].getClientInfo(function(i){var n=i.msgCode,a=i.result;100===+n?(console.log("getDeviceIdgetDeviceId",a),t(a)):e(new Error("获取设备信息失败"))})})}function r(t){t.force;var e=t.vm;return new Promise(function(t,i){if(n["a"].sourceType())n["a"].gainNowLocation(function(e){var n=e.msgCode,o=e.result;100===n&&o&&o.gdLatitude&&o.gdLongitude?(a=o,t(o)):i(new Error("获取位置失败"))},e);else{var o={gdLatitude:"31.312764",gdLongitude:"121.393972"};t(o)}})}function c(t,e){}function l(){return Promise.resolve({gdLatitude:"31.24916171",gdLongitude:"121.48789949"})}},d1bf:function(t,e,i){t.exports=i.p+"img/icon_notice.2bdef19a.png"},ddfa:function(t,e,i){},e163:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"top-banner"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgUrl,expression:"imgUrl"}],staticClass:"bg"}),t.videoUrl&&t.title&&!t.titleName?i("div",{staticClass:"video-btn",staticStyle:{zIndex:"2"},on:{click:t.goView}},[i("span",{staticClass:"title"},[t._v(t._s(t.title))]),t.isVideo?i("i",{staticClass:"iconfont iconicon_bofang"}):i("i",{staticClass:"iconfont iconicon_zhenxuanmeishi"})]):t._e(),t.videoUrl&&t.title&&t.titleName?i("div",{staticClass:"video-btn-center",staticStyle:{zIndex:"2"},on:{click:t.goView}},[i("p",{staticClass:"title-name"},[t._v(t._s(t.titleName))]),i("span",{staticClass:"title"},[t._v(t._s(t.title))]),t.isVideo?i("i",{staticClass:"iconfont iconicon_bofang"}):i("i",{staticClass:"iconfont iconicon_zhenxuanmeishi"})]):t._e()])},a=[],o=i("ac2d"),s={props:{title:{type:String,default:""},imgUrl:{type:String,default:""},videoUrl:{type:String,default:""},titleName:{type:String,default:""},isVideo:{type:Boolean,default:!0}},methods:{goPage:function(){o["a"].openNewWebView({url:this.videoUrl,isFitWindow:!1})},goVideo:function(){o["a"].openVideo({videoURL:this.videoUrl})},goView:function(){this.videoUrl&&(this.isVideo?this.goVideo():this.goPage())}}},r=s,c=(i("4058"),i("2877")),l=Object(c["a"])(r,n,a,!1,null,"2cd2eac4",null);e["a"]=l.exports},ed08:function(t,e,i){"use strict";i.d(e,"d",function(){return s}),i.d(e,"a",function(){return r}),i.d(e,"g",function(){return c}),i.d(e,"c",function(){return l}),i.d(e,"f",function(){return u}),i.d(e,"j",function(){return p}),i.d(e,"h",function(){return v}),i.d(e,"b",function(){return w}),i.d(e,"e",function(){return y}),i.d(e,"i",function(){return b});var n=i("f121"),a=i("f76d"),o=n["a"].ENV_URL,s=function(t){return"".concat(o,"/#").concat(t)},r=function(){return new Promise(function(t,e){if(window.AMap)t(window.AMap);else{var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src="http://webapi.amap.com/maps?v=1.4.14&callback=initAMap&key=555c914c29cb33d914437914f1b79b49",i.onerror=e,document.head.appendChild(i)}window.initAMap=function(){t(window.AMap)}})};function c(t,e){"string"===typeof e?localStorage.setItem(t,e):localStorage.setItem(t,JSON.stringify(e))}function l(t){var e=localStorage.getItem(t);if("string"===typeof e)try{return JSON.parse(e)}catch(i){return e}}var u={appScheme:"metro://",downloadAppUrl:"http://anijue.bangdao-tech.com/p/q/jhbvw8xg/pages/share/index.html",packageName:"com.app.shanghai.metro",otherAppPage:"metro://qrcode"},d=Object(a["a"])(),g="",h="";"iOS"===d?(g="https://itunes.apple.com/cn/app/id1395725438",h="saicpassenger://"):g="https://marketing.saicmobility.com/mis-h5/app-download";var p={appScheme:"saicpassenger://",downloadAppUrl:g,packageName:"com.saicmobility.user",otherAppPage:h},m="",f="";"iOS"===d?(m="https://apps.apple.com/cn/app/id732618720",f="shiminyun://"):m="http://m.eshimin.com/";var v={appScheme:"shiminyun://",downloadAppUrl:m,packageName:"mobi.w3studio.apps.android.shsmy.phone",otherAppPage:f},w=["1、打开微信“乘车码”小程序，点击“开通乘车码”","2、选择优先扣费方式，并开通免密支付","3、开通成功后，日常使用“游上海”APP公交乘车码即可快捷乘车"],y=["1、下载Metro大都会App，并注册登录",'2、进入底部菜单栏"乘车"页面后，点击 “立即开通”(需要打开蓝牙)',"3、开通成功后，日常使用游上海App地铁乘车码即可快捷乘车"],b=function(t){t="string"===typeof t?t:String(t);var e=/^[\d]{17}[0-9|X|x]{1}$/;if(e.test(t)){var i=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],n=t.slice(0,17),a=t.slice(17,18);a=isNaN(parseInt(a))?a.toLowerCase():parseInt(a);for(var o=0,s=0;s<17;s++)o=(o+=parseInt(n.charAt(s))*i[s])%11;var r=[1,0,"X",9,8,7,6,5,4,3,2],c="X"===r[o]?r[o].toLowerCase():r[o];return a===c?{code:0,msg:t}:{code:0,msg:"你输入的身份证号码格式不对!"}}return{code:0,msg:"你输入的身份证号码格式不对,请重新输入!"}}},ee3d:function(t,e,i){},eeb7:function(t,e,i){"use strict";var n=i("ddfa"),a=i.n(n);a.a},ef99:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"foodClass",class:t.foodClass},["11"===t.categoryId?n("banner-video-btn",{attrs:{title:t.bannerVideo.title,videoUrl:t.bannerVideo.videoUrl,imgUrl:t.bannerVideo.imgUrl}}):t._e(),n("div",{class:"11"===t.categoryId?"jiaotong-box":"content"},["11"===t.categoryId?n("h5",{staticClass:"title-jiaotong"},[t._v("交通出行")]):t._e(),t._l(t.classList,function(e,i){return n("div",{directives:[{name:"show",rawName:"v-show",value:!("11_2"==e.categoryId||"11_55"==e.categoryId||"11_55"==e.categoryId||"11_3"==e.categoryId||"11_5"==e.categoryId),expression:"!(item.categoryId == '11_2' || item.categoryId == '11_55' || item.categoryId == '11_55' || item.categoryId == '11_3' || item.categoryId == '11_5')"}],key:i,staticClass:"foodClassContent",style:{backgroundImage:"url("+e.imageUrl+")"},on:{click:function(i){return t.viewDetail(e)}}},[n("div",{staticClass:"positon-box",class:{nonlegacyList:t.isNonlegacy}},[n("p",{staticClass:"title hiddenLine1",class:{nonlegacyTitle:t.isNonlegacy}},[t._v(t._s(e.name))]),n("p",{staticClass:"describe hiddenLine1"},[t._v(t._s(e.detail))])])])})],2),n("v-dialog",{attrs:{visible:t.isDialogVisible},on:{"update:visible":function(e){t.isDialogVisible=e}}},[n("div",{staticClass:"service-dialog"},[n("div",{staticClass:"introduction-icon"},[n("img",{staticClass:"icon1",attrs:{src:i("d1bf"),alt:""}})]),n("p",{directives:[{name:"show",rawName:"v-show",value:t.isOnlyZH,expression:"isOnlyZH"}],staticClass:"content-dialog"},[t._v("Only Chinese version is available now. More languages are\n\t\t\t\tcoming soon.")]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isOnlyZH,expression:"!isOnlyZH"}],staticClass:"gap"}),n("p",{directives:[{name:"show",rawName:"v-show",value:!t.isOnlyZH,expression:"!isOnlyZH"}],staticClass:"tips"},[t._v(t._s(t.$t("customDialog.service")))]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.isOnlyZH,expression:"!isOnlyZH"}],staticClass:"confrim-btn",on:{click:t.hideDialog}},[t._v(t._s(t.$t("customDialog.know")))]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isOnlyZH,expression:"isOnlyZH"}],staticClass:"confrim-btn",on:{click:t.toDetail}},[t._v("Got it")])])])],1)},a=[],o=(i("6762"),i("2fdb"),i("c5f6"),i("7f7f"),i("55dd"),i("ac2d")),s=i("ed08"),r=i("90e9"),c=i("e193"),l={airport:{}},u="blue",d="blue";switch(d&&(u=d),u){case"uat":l.airport.home="http://test-www.heycars.cn/?utm_source=youshanghai&utm_medium=ysh_app&language=zh-CN",l.airport.orderList="http://test-www.heycars.cn/OrderList/?utm_source=youshanghai&utm_medium=ysh_app&language=zh-CN";break;case"green":case"blue":case"yshblue":l.airport.home="https://www.heycars.cn/?utm_source=youshanghai&utm_medium=ysh_app&language=zh-CN",l.airport.orderList="https://www.heycars.cn/OrderList/?utm_source=youshanghai&utm_medium=ysh_app&language=zh-CN";break;default:l.airport.home="http://test-www.heycars.cn/?utm_source=youshanghai&utm_medium=ysh_app&language=zh-CN",l.airport.orderList="http://test-www.heycars.cn/OrderList/?utm_source=youshanghai&utm_medium=ysh_app&language=zh-CN";break}var g=l,h=i("e163"),p=i("a21f"),m=c["a"].getFlightUrl,f={name:"foodClass",data:function(){return{bannerVideo:{title:"智慧交通",imgUrl:"http://hhh.images.visitshanghai.com.cn/traffic-bg.png?imageView2/1/w/750/h/330",videoUrl:"http://hhh.images.visitshanghai.com.cn/lv1k9bX7h3VN_PCUsRgjHh9JKVcJ?e=1566712570&token=JT9hop2MntCNMNz8O7UqTb4scQYpASy7sK2q11su:g9akkHJB_c2YbqdhrNU7ePF5rpg="},currentTap:"",foodClass:this.$t("font"),classList:[],isDialogVisible:!1,isOnlyZH:!1,serviceDialog:!1,token:"",allOrganize:[],categoryId:"",titleName:"",isNonlegacy:!1,showVideoIcon:!0}},components:{BannerVideoBtn:h["a"]},created:function(){var t=this;this.categoryId=this.$route.query.id,this.isNonlegacy="2-1"===this.categoryId&&1,window.localStorage.getItem("allOrganize")?(this.getList(this.categoryId),setTimeout(function(){Object(r["b"])().then(function(t){window.localStorage.setItem("allOrganize",JSON.stringify(t))})},1e3)):Object(r["b"])().then(function(e){window.localStorage.setItem("allOrganize",JSON.stringify(e)),t.getList(t.categoryId)})},mounted:function(){var t=this;o["a"].noCallAppLoginGetInfo(function(e,i){t.token=i}),o["a"].refreshPage(function(){o["a"].noCallAppLoginGetInfo(function(e,i){t.token=i})})},watch:{$route:function(){this.categoryId=this.$route.query.id,this.getList(this.categoryId)}},methods:{load:function(){var t=this.$refs.video;t.play(),t.controls=!0,this.showVideoIcon=!1},getList:function(t){this.allOrganize=JSON.parse(window.localStorage.getItem("allOrganize")),this.isNonlegacy?o["a"].setAppTitle({title:"非物质文化遗产"}):this.queryTitle(t),this.hasChildList(t)},showDialog:function(t){this.isOnlyZH=t||!1,this.isDialogVisible=!0},hideDialog:function(){this.isDialogVisible=!1},toDetail:function(){this.hideDialog(),"train"===this.currentTap?o["a"].openNewWebView({url:"https://m.lvmama.com/train/",isFitWindow:!1}):"flight"===this.currentTap?o["a"].openNewWebView({url:"https://m.lvmama.com/flight/",isFitWindow:!1}):"taxi"===this.currentTap&&this.dida()},hasChildList:function(t){var e="";this.allOrganize.map(function(i){i.categoryId===t&&(e=i.id)}),this.classList=this.allOrganize.filter(function(t){return t.parentId===e}).sort(function(t,e){return e.weight-t.weight}),console.log(this.classList,"this.classList")},queryTitle:function(t){var e=this;console.log(t,"getList");var i="";this.allOrganize.map(function(n){n.categoryId===t&&(i=n.parentId,i?e.queryParentId(i):o["a"].setAppTitle({title:n.name}))})},queryParentId:function(t){var e=this;this.allOrganize.map(function(i){i.id===t&&(i.parentId?e.queryParentId(i.parentId):(e.titleName=i.name,console.log(e.titleName,"queryTitle"),o["a"].setAppTitle({title:e.titleName})))})},viewDetail:function(t){if(console.log(t.url),0===t.jumpType){var e="";switch(t.categoryId){case"11_3":e="heycars";break}return"11_5"===t.categoryId?this.token?void m({userId:JSON.parse(localStorage.getItem("memberinfo")).userId}).then(function(t){0===Number(t.code)&&o["a"].openNewWebView({url:t.result.url,isFitWindow:!0,callback:function(){e&&Object(p["a"])("https://m.ceair.com/pages/index_ysh.html",e)}})}):void o["a"].callAppLogin():void o["a"].openNewWebView({url:t.url,isFitWindow:!("11_4"===t.categoryId||"11_5"===t.categoryId||"11-54"===t.categoryId),callback:function(){e&&Object(p["a"])(t.url,e)}})}if("11_2"===t.categoryId)return this.token?void this.dida():void o["a"].callAppLogin();"11_6"!==t.categoryId?(console.log(s["f"]),o["a"].openNewWebView({url:Object(s["d"])(t.url),isFitWindow:!(t.url.includes("experience-non-relics")||t.url.includes("list"))}),t.name||this.showDialog()):o["a"].openNewWebView({url:g.airport.home,isFitWindow:!0})},openThirdApplication:function(t){o["a"].openThirdApp(t,function(t){console.log(t)})},dida:function(){var t=this,e={appName:"BGSH_OVERSEA",channelCode:"10008",language:this.isZH?"zh":"en"};this.$axios.member.dida(e).then(function(t){var e=t.result.url;t&&o["a"].openNewWebView({url:e,isFitWindow:!0})}).catch(function(e){600==e.code&&t.$toast({content:"没有找到手机号"}),console.log(e)})}}},v=f,w=(i("eeb7"),i("2877")),y=Object(w["a"])(v,n,a,!1,null,"b8a8761c",null);e["default"]=y.exports}}]);