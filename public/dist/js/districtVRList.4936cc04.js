(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["districtVRList"],{"0d1c":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"pageWrap",staticClass:"district-vr-list",on:{scroll:t.handleScroll}},[r("div",{staticClass:"top-banner",style:{backgroundImage:"url("+t.headerImage+")"}},[r("div",{ref:"searchWrap",staticClass:"search-wrap"},[r("i",{staticClass:"back icon iconfont iconlist_left",on:{click:t.nativeGoBack}}),t.tabs.length?r("div",{staticClass:"search",on:{click:t.toSearch}},[r("span",{staticClass:"iconfont iconicon_sousuo searchImg"}),r("span",{staticClass:"placeholder"},[t._v("搜索景点")])]):t._e()]),r("h2",{on:{click:t.toVR}},[r("span",[t._v(t._s(t.title))]),r("img",{staticClass:"line",attrs:{src:n("956c")}})]),t.tabs.length?r("div",{ref:"tabsWrap",staticClass:"tabs-wrap"},[r("ul",{ref:"tabs",staticClass:"tabs"},t._l(t.tabs,function(e,n){return r("li",{key:e.id,staticClass:"tab-item",on:{click:function(e){return t.handleTab(n)}}},[r("span",[t._v(t._s(e.name))]),r("div",{staticClass:"line",class:{active:t.currentIndex===n}})])}),0)]):t._e()]),t._l(t.tabs,function(e,n){return r("div",{key:n,ref:"floor",refInFor:!0,staticClass:"card"},[e?r("div",{staticClass:"content"},[r("div",{staticClass:"title"},[r("span",[t._v(t._s(e.name))])]),r("scenes-list",{attrs:{category:e.categoryId,limit:4}})],1):t._e(),r("div",{staticClass:"space"})])}),t.tabs.length?t._e():r("div",{staticClass:"odd-list"},[r("scenes-list",{attrs:{category:t.categoryId,limit:10}})],1)],2)},a=[],i=(n("ac6a"),n("ac2d")),o=n("90e9"),s=n("a21f"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"scenes-list"},["single"===t.col?n("ul",{staticClass:"col-1"},t._l(t.list,function(e){return n("li",{key:e.id,on:{click:function(n){return t.toDetail(e)}}},[n("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.mallImg,expression:"item.mallImg",arg:"background-image"}],staticClass:"banner"}),n("div",{staticClass:"name"},[t._v(t._s(e.name))])])}),0):n("ul",{staticClass:"col-2"},t._l(t.list,function(e){return n("li",{key:e.id,on:{click:function(n){return t.toDetail(e)}}},[e.tags&&e.tags.length?n("div",{staticClass:"tag"},[t._v(t._s(e.tags[0]))]):t._e(),n("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.mallImg,expression:"item.mallImg",arg:"background-image"}],staticClass:"banner"}),n("div",{staticClass:"name"},[t._v(t._s(e.name))])])}),0),n("button",{directives:[{name:"show",rawName:"v-show",value:t.allList.length>t.limit&&t.isShowMore,expression:"allList.length > limit && isShowMore"}],staticClass:"more",on:{click:t.handleLoadMore}},[t._v("查看更多 >")])])},u=[],l=n("75fc"),f=(n("7f7f"),n("ed08")),d=o["a"].querySpellCheck,p={props:["title","category","col","limit"],data:function(){return{list:[],allList:[],isShowMore:!0}},mounted:function(){this.loadList()},methods:{handleLoadMore:function(){this.isShowMore=!1,this.list=this.allList},loadList:function(){var t=this;Object(s["b"])({vm:this}).then(function(e){var n={categoryId:t.category,start:0,offset:1e3,channel:1,city:4,language:7,lat:e.gdLatitude,lon:e.gdLongitude,latFalg:!1,topFlag:!0};d(n,{hideLoading:!0}).then(function(e){if("0"===e.code){var n=e.data.result.filter(function(e){if("黄浦江实时直播"===e.name){var n=(new Date).getTime(),r=t.getHour(7),a=t.getHour(17);return n>r&&n<a?"video"===e.showRemark:"web"===e.showRemark}return e});t.allList=Object(l["a"])(n),t.list=n.splice(0,t.limit)}})})},toDetail:function(t){"ZHIBO"===t.sourceURL?"video"===t.showRemark?i["a"].openVideo({videoURL:t.url}):i["a"].openNewWebView({url:t.url,isFitWindow:!0}):"AR"===t.sourceURL?i["a"].openNewWebView({url:Object(f["d"])("/live-ar/".concat(t.id)),isFitWindow:!0}):i["a"].openNewWebView({url:t.url,isFitWindow:!0})},getHour:function(t){return new Date((new Date).toLocaleDateString()).getTime()+60*t*60*1e3}}},v=p,g=(n("2608"),n("2877")),h=Object(g["a"])(v,c,u,!1,null,"6749e564",null),m=h.exports,b={components:{ScenesList:m},data:function(){return{categoryId:"",headerImage:"",title:"",currentIndex:0,tabs:[],url:""}},mounted:function(){this.categoryId=this.$route.query.id,this.loadlist()},methods:{loadlist:function(){var t=this;Object(s["b"])({vm:this}).then(function(e){var n={channel:1,city:4,language:7,categoryId:t.categoryId,offset:1e3,start:0,lat:e.gdLatitude,lon:e.gdLongitude,latFalg:!0};o["a"].queryWholeCategoryData(n,{hideLoading:t.startNum>0}).then(function(e){e.code;var n=e.data;t.headerImage=n.imageUrl,t.title=n.detail,t.url=n.url,t.tabs=n.children})})},handleScroll:function(t){this.handleFixed(t.target),this.setFloor(t.target)},setFloor:function(t){var e=this,n=t.scrollTop+this.$refs.searchWrap.offsetHeight+this.$refs.tabs.offsetHeight,r=this.$refs.floor;r.forEach(function(t,r){n>=t.offsetTop-1&&(e.currentIndex=r)}),t.scrollHeight-parseInt(t.scrollTop+document.documentElement.clientHeight)<=5&&(this.currentIndex=r.length-1)},handleFixed:function(t){var e=this.$refs.searchWrap,n=this.$refs.tabs;t.scrollTop+e.offsetHeight>=this.$refs.tabsWrap.offsetTop?(n.classList.add("fixed"),e.classList.add("fixed")):(n.classList.remove("fixed"),e.classList.remove("fixed"))},handleTab:function(t){var e=this.$refs.searchWrap.offsetHeight,n=this.$refs.tabs.offsetHeight,r=e+n,a=this.$refs.floor[t];this.$refs.pageWrap.scrollTop=a.offsetTop-r,this.currentIndex=t},toVR:function(){this.url&&i["a"].openNewWebView({url:this.url,isFitWindow:!0})},toSearch:function(){i["a"].openNewWebView({url:Object(f["d"])("/district-vr-search"),isFitWindow:!1})}}},w=b,y=(n("3a0f"),Object(g["a"])(w,r,a,!1,null,"5f8d41f4",null));e["default"]=y.exports},"1af6":function(t,e,n){var r=n("63b6");r(r.S,"Array",{isArray:n("9003")})},"20fd":function(t,e,n){"use strict";var r=n("d9f6"),a=n("aebd");t.exports=function(t,e,n){e in t?r.f(t,e,a(0,n)):t[e]=n}},2608:function(t,e,n){"use strict";var r=n("2919"),a=n.n(r);a.a},2919:function(t,e,n){},3702:function(t,e,n){var r=n("481b"),a=n("5168")("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[a]===t)}},"3a0f":function(t,e,n){"use strict";var r=n("ba79"),a=n.n(r);a.a},"40c3":function(t,e,n){var r=n("6b4c"),a=n("5168")("toStringTag"),i="Arguments"==r(function(){return arguments}()),o=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=o(e=Object(t),a))?n:i?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},"4ee1":function(t,e,n){var r=n("5168")("iterator"),a=!1;try{var i=[7][r]();i["return"]=function(){a=!0},Array.from(i,function(){throw 2})}catch(o){}t.exports=function(t,e){if(!e&&!a)return!1;var n=!1;try{var i=[7],s=i[r]();s.next=function(){return{done:n=!0}},i[r]=function(){return s},t(i)}catch(o){}return n}},"549b":function(t,e,n){"use strict";var r=n("d864"),a=n("63b6"),i=n("241e"),o=n("b0dc"),s=n("3702"),c=n("b447"),u=n("20fd"),l=n("7cd6");a(a.S+a.F*!n("4ee1")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,a,f,d=i(t),p="function"==typeof this?this:Array,v=arguments.length,g=v>1?arguments[1]:void 0,h=void 0!==g,m=0,b=l(d);if(h&&(g=r(g,v>2?arguments[2]:void 0,2)),void 0==b||p==Array&&s(b))for(e=c(d.length),n=new p(e);e>m;m++)u(n,m,h?g(d[m],m):d[m]);else for(f=b.call(d),n=new p;!(a=f.next()).done;m++)u(n,m,h?o(f,g,[a.value,m],!0):a.value);return n.length=m,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},"75fc":function(t,e,n){"use strict";var r=n("a745"),a=n.n(r);function i(t){if(a()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var o=n("774e"),s=n.n(o),c=n("c8bb"),u=n.n(c);function l(t){if(u()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return s()(t)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(t){return i(t)||l(t)||f()}n.d(e,"a",function(){return d})},"774e":function(t,e,n){t.exports=n("d2d5")},"7cd6":function(t,e,n){var r=n("40c3"),a=n("5168")("iterator"),i=n("481b");t.exports=n("584a").getIteratorMethod=function(t){if(void 0!=t)return t[a]||t["@@iterator"]||i[r(t)]}},"956c":function(t,e){t.exports="data:image/png;base64,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"},"95d5":function(t,e,n){var r=n("40c3"),a=n("5168")("iterator"),i=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[a]||"@@iterator"in e||i.hasOwnProperty(r(e))}},a21f:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"d",function(){return o}),n.d(e,"e",function(){return s}),n.d(e,"a",function(){return c}),n.d(e,"c",function(){return u});var r=n("ac2d"),a=null;function i(t){var e=t.force,n=void 0!==e&&e,i=t.vm;return new Promise(function(t,e){if(a&&!n)t(a);else if(r["a"].sourceType())r["a"].gainLocation(function(n){var r=n.result;r&&r.gdLatitude&&r.gdLongitude?(a=r,t(r)):e(new Error("获取位置失败"))},i);else{var o={gdLatitude:"31.24916171",gdLongitude:"121.48789949"};t(o)}})}function o(){return new Promise(function(t,e){r["a"].getClientInfo(function(n){var r=n.msgCode,a=n.result;100===+r?(console.log("getDeviceIdgetDeviceId",a),t(a)):e(new Error("获取设备信息失败"))})})}function s(t){t.force;var e=t.vm;return new Promise(function(t,n){if(r["a"].sourceType())r["a"].gainNowLocation(function(e){var r=e.msgCode,i=e.result;100===r&&i&&i.gdLatitude&&i.gdLongitude?(a=i,t(i)):n(new Error("获取位置失败"))},e);else{var i={gdLatitude:"31.312764",gdLongitude:"121.393972"};t(i)}})}function c(t,e){}function u(){return Promise.resolve({gdLatitude:"31.24916171",gdLongitude:"121.48789949"})}},a745:function(t,e,n){t.exports=n("f410")},b0dc:function(t,e,n){var r=n("e4ae");t.exports=function(t,e,n,a){try{return a?e(r(n)[0],n[1]):e(n)}catch(o){var i=t["return"];throw void 0!==i&&r(i.call(t)),o}}},ba79:function(t,e,n){},c8bb:function(t,e,n){t.exports=n("54a1")},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},ed08:function(t,e,n){"use strict";n.d(e,"d",function(){return o}),n.d(e,"a",function(){return s}),n.d(e,"g",function(){return c}),n.d(e,"c",function(){return u}),n.d(e,"f",function(){return l}),n.d(e,"j",function(){return v}),n.d(e,"h",function(){return m}),n.d(e,"b",function(){return b}),n.d(e,"e",function(){return w}),n.d(e,"i",function(){return y});var r=n("f121"),a=n("f76d"),i=r["a"].ENV_URL,o=function(t){return"".concat(i,"/#").concat(t)},s=function(){return new Promise(function(t,e){if(window.AMap)t(window.AMap);else{var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="http://webapi.amap.com/maps?v=1.4.14&callback=initAMap&key=555c914c29cb33d914437914f1b79b49",n.onerror=e,document.head.appendChild(n)}window.initAMap=function(){t(window.AMap)}})};function c(t,e){"string"===typeof e?localStorage.setItem(t,e):localStorage.setItem(t,JSON.stringify(e))}function u(t){var e=localStorage.getItem(t);if("string"===typeof e)try{return JSON.parse(e)}catch(n){return e}}var l={appScheme:"metro://",downloadAppUrl:"http://anijue.bangdao-tech.com/p/q/jhbvw8xg/pages/share/index.html",packageName:"com.app.shanghai.metro",otherAppPage:"metro://qrcode"},f=Object(a["a"])(),d="",p="";"iOS"===f?(d="https://itunes.apple.com/cn/app/id1395725438",p="saicpassenger://"):d="https://marketing.saicmobility.com/mis-h5/app-download";var v={appScheme:"saicpassenger://",downloadAppUrl:d,packageName:"com.saicmobility.user",otherAppPage:p},g="",h="";"iOS"===f?(g="https://apps.apple.com/cn/app/id732618720",h="shiminyun://"):g="http://m.eshimin.com/";var m={appScheme:"shiminyun://",downloadAppUrl:g,packageName:"mobi.w3studio.apps.android.shsmy.phone",otherAppPage:h},b=["1、打开微信“乘车码”小程序，点击“开通乘车码”","2、选择优先扣费方式，并开通免密支付","3、开通成功后，日常使用“游上海”APP公交乘车码即可快捷乘车"],w=["1、下载Metro大都会App，并注册登录",'2、进入底部菜单栏"乘车"页面后，点击 “立即开通”(需要打开蓝牙)',"3、开通成功后，日常使用游上海App地铁乘车码即可快捷乘车"],y=function(t){t="string"===typeof t?t:String(t);var e=/^[\d]{17}[0-9|X|x]{1}$/;if(e.test(t)){var n=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],r=t.slice(0,17),a=t.slice(17,18);a=isNaN(parseInt(a))?a.toLowerCase():parseInt(a);for(var i=0,o=0;o<17;o++)i=(i+=parseInt(r.charAt(o))*n[o])%11;var s=[1,0,"X",9,8,7,6,5,4,3,2],c="X"===s[i]?s[i].toLowerCase():s[i];return a===c?{code:0,msg:t}:{code:0,msg:"你输入的身份证号码格式不对!"}}return{code:0,msg:"你输入的身份证号码格式不对,请重新输入!"}}},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray}}]);