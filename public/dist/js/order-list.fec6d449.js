(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["order-list"],{"595d":function(t,n,i){"use strict";var e=i("72bd"),o=i.n(e);o.a},"72bd":function(t,n,i){},"9eff":function(t,n,i){"use strict";i.r(n);var e=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"order-list-page"},[i("div",{staticClass:"card"},[i("h2",[t._v(t._s(t.shopping.title))]),i("ul",t._l(t.shopping.list,function(n){return i("li",{key:n.icon,on:{click:function(i){return t.toPage(n)}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:n.tag,expression:"item.tag"}],staticClass:"tag"},[t._v(t._s(n.tag))]),i("div",{staticClass:"img icons",class:n.icon}),i("p",[t._v(t._s(n.name))])])}),0)]),i("div",{staticClass:"card"},[i("h2",[t._v(t._s(t.traffic.title))]),i("ul",t._l(t.traffic.list,function(n){return i("li",{key:n.icon,on:{click:function(i){return t.toPage(n)}}},[i("div",{staticClass:"img icons",class:n.icon}),i("p",[t._v(t._s(n.name))])])}),0)]),i("div",{staticClass:"card"},[i("h2",[t._v(t._s(t.tourism.title))]),i("ul",t._l(t.tourism.list,function(n){return i("li",{key:n.icon,on:{click:function(i){return t.toPage(n)}}},[i("div",{staticClass:"img icons",class:n.icon}),i("p",[t._v(t._s(n.name))])])}),0)]),i("div",{staticClass:"card"},[i("h2",[t._v(t._s(t.other.title))]),i("ul",t._l(t.other.list,function(n){return i("li",{key:n.icon,on:{click:function(i){return t.toPage(n)}}},[i("div",{staticClass:"img icons",class:n.icon}),i("p",[t._v(t._s(n.name))])])}),0)])])},o=[],r=(i("6762"),i("2fdb"),i("ac2d")),a=i("f121"),c=i("ed08"),s=i("e3be"),u=i("a21f"),d=a["a"].HOTEL_URL,l=a["a"].MALL_URL,p="".concat(d,"/hotelbooking/order/index.html"),m=a["a"].OVERSEA_HOTEL_URL,h={title:"线上购物",list:[{id:1,name:"限时抢购",icon:"icon-order-sc",h5Url:"".concat(l,"/#/orderList")},{id:2,name:"学生专享",icon:"icon-order-student_1",isCertified:!1,h5Url:"".concat(l,"/#/orderList")},{id:3,name:"海上文创",icon:"icon-order-wc",h5Url:"https://store.shanghai.com.cn/#/orderList/0"}]},f={title:"交通住宿",list:[{name:"国内酒店",icon:"icon-order-zgjd",h5Url:"".concat(p,"#/orderList?type=2")},{name:"海外酒店",icon:"icon-order-qtjd",h5Url:"".concat(m)},{name:"国内机票",icon:"icon-order-gnjp",h5Url:"https://m.lvmama.com/webapp/my/orderList/#/flight"},{name:"国际机票",icon:"icon-order-gjjp",h5Url:"https://m.lvmama.com/webapp/my/orderList/#/internationalFlight"},{name:"火车票",icon:"icon-order-hcp",h5Url:"https://m.lvmama.com/webapp/my/orderList/#/train"},{name:"汽车票",icon:"icon-order-qcp",h5Url:"https://m.lvmama.com/webapp/my/orderList/#/busOrders"}]},g={title:"旅游度假",list:[{name:"自由行",icon:"icon-order-zyx",h5Url:"https://www.yobab2b.com/h5/common/orderList/?userId=79076#/routeOrderList"},{name:"跟团游",icon:"icon-order-gty",h5Url:"https://m.lvmama.com/webapp/my/orderList/#/vacationOrders"},{name:"景点门票",icon:"icon-order-jdmp_1",h5Url:"https://www.yobab2b.com/h5/public/?userId=79076#/newmyorders"}]},v={title:"其他",list:[{name:"美食",icon:"icon-order-msyd",path:""}]},w={data:function(){return{shopping:h,traffic:f,tourism:g,other:v,urlQuery:"",token:"",isLoading:!1}},mounted:function(){var t=this;if(r["a"].noCallAppLoginGetInfo(function(n,i){i?t.isVefifyStudent():t.isLoading=!0}),r["a"].refreshPage(function(){r["a"].noCallAppLoginGetInfo(function(n,i){i?t.isVefifyStudent():t.isLoading=!0})}),this._isWeixin){for(var n in this.traffic.list.splice(1,1),this.$route.query)this.urlQuery="".concat(n,"=").concat(this.$route.query[n],"&").concat(this.urlQuery);this.urlQuery=this.urlQuery.substring(0,this.urlQuery.length-1)}r["a"].setAppTitle({title:"订单"})},methods:{isVefifyStudent:function(){var t=this;Object(s["c"])({}).then(function(n){0!==n.code||n.result||(t.shopping.list=t.shopping.list.filter(function(t){return 2!==t.id})),t.isLoading=!0}).catch(function(n){t.isLoading=!0})},toPage:function(t){var n=this;t.h5Url?(this._isWeixin&&this.urlQuery&&(t.h5Url=t.h5Url.includes("hotelbooking")?"".concat(t.h5Url,"&").concat(this.urlQuery):"".concat(t.h5Url,"?").concat(this.urlQuery)),r["a"].openNewWebView({url:t.h5Url,isFitWindow:!0})):t.url?r["a"].openNewWebView({url:Object(c["d"])(t.path),isFitWindow:!0}):this.token?this.toFood():r["a"].callAppLogin(function(t){t.token&&n.toFood()})},toFood:function(){var t=this;Object(u["b"])({vm:this}).then(function(n){var i={lat:n.gdLatitude,lng:n.gdLongitude,page:2};t.$axios.topfood.jumpFoodUrl(i).then(function(t){1*t.code===0&&r["a"].openNewWebView({url:t.url,isFitWindow:!0})})})}}},y=w,L=(i("595d"),i("2877")),b=Object(L["a"])(y,e,o,!1,null,"49485a72",null);n["default"]=b.exports},a21f:function(t,n,i){"use strict";i.d(n,"b",function(){return r}),i.d(n,"d",function(){return a}),i.d(n,"e",function(){return c}),i.d(n,"a",function(){return s}),i.d(n,"c",function(){return u});var e=i("ac2d"),o=null;function r(t){var n=t.force,i=void 0!==n&&n,r=t.vm;return new Promise(function(t,n){if(o&&!i)t(o);else if(e["a"].sourceType())e["a"].gainLocation(function(i){var e=i.result;e&&e.gdLatitude&&e.gdLongitude?(o=e,t(e)):n(new Error("获取位置失败"))},r);else{var a={gdLatitude:"31.24916171",gdLongitude:"121.48789949"};t(a)}})}function a(){return new Promise(function(t,n){e["a"].getClientInfo(function(i){var e=i.msgCode,o=i.result;100===+e?(console.log("getDeviceIdgetDeviceId",o),t(o)):n(new Error("获取设备信息失败"))})})}function c(t){t.force;var n=t.vm;return new Promise(function(t,i){if(e["a"].sourceType())e["a"].gainNowLocation(function(n){var e=n.msgCode,r=n.result;100===e&&r&&r.gdLatitude&&r.gdLongitude?(o=r,t(r)):i(new Error("获取位置失败"))},n);else{var r={gdLatitude:"31.312764",gdLongitude:"121.393972"};t(r)}})}function s(t,n){}function u(){return Promise.resolve({gdLatitude:"31.24916171",gdLongitude:"121.48789949"})}},ed08:function(t,n,i){"use strict";i.d(n,"d",function(){return a}),i.d(n,"a",function(){return c}),i.d(n,"g",function(){return s}),i.d(n,"c",function(){return u}),i.d(n,"f",function(){return d}),i.d(n,"j",function(){return h}),i.d(n,"h",function(){return v}),i.d(n,"b",function(){return w}),i.d(n,"e",function(){return y}),i.d(n,"i",function(){return L});var e=i("f121"),o=i("f76d"),r=e["a"].ENV_URL,a=function(t){return"".concat(r,"/#").concat(t)},c=function(){return new Promise(function(t,n){if(window.AMap)t(window.AMap);else{var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src="http://webapi.amap.com/maps?v=1.4.14&callback=initAMap&key=555c914c29cb33d914437914f1b79b49",i.onerror=n,document.head.appendChild(i)}window.initAMap=function(){t(window.AMap)}})};function s(t,n){"string"===typeof n?localStorage.setItem(t,n):localStorage.setItem(t,JSON.stringify(n))}function u(t){var n=localStorage.getItem(t);if("string"===typeof n)try{return JSON.parse(n)}catch(i){return n}}var d={appScheme:"metro://",downloadAppUrl:"http://anijue.bangdao-tech.com/p/q/jhbvw8xg/pages/share/index.html",packageName:"com.app.shanghai.metro",otherAppPage:"metro://qrcode"},l=Object(o["a"])(),p="",m="";"iOS"===l?(p="https://itunes.apple.com/cn/app/id1395725438",m="saicpassenger://"):p="https://marketing.saicmobility.com/mis-h5/app-download";var h={appScheme:"saicpassenger://",downloadAppUrl:p,packageName:"com.saicmobility.user",otherAppPage:m},f="",g="";"iOS"===l?(f="https://apps.apple.com/cn/app/id732618720",g="shiminyun://"):f="http://m.eshimin.com/";var v={appScheme:"shiminyun://",downloadAppUrl:f,packageName:"mobi.w3studio.apps.android.shsmy.phone",otherAppPage:g},w=["1、打开微信“乘车码”小程序，点击“开通乘车码”","2、选择优先扣费方式，并开通免密支付","3、开通成功后，日常使用“游上海”APP公交乘车码即可快捷乘车"],y=["1、下载Metro大都会App，并注册登录",'2、进入底部菜单栏"乘车"页面后，点击 “立即开通”(需要打开蓝牙)',"3、开通成功后，日常使用游上海App地铁乘车码即可快捷乘车"],L=function(t){t="string"===typeof t?t:String(t);var n=/^[\d]{17}[0-9|X|x]{1}$/;if(n.test(t)){var i=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],e=t.slice(0,17),o=t.slice(17,18);o=isNaN(parseInt(o))?o.toLowerCase():parseInt(o);for(var r=0,a=0;a<17;a++)r=(r+=parseInt(e.charAt(a))*i[a])%11;var c=[1,0,"X",9,8,7,6,5,4,3,2],s="X"===c[r]?c[r].toLowerCase():c[r];return o===s?{code:0,msg:t}:{code:0,msg:"你输入的身份证号码格式不对!"}}return{code:0,msg:"你输入的身份证号码格式不对,请重新输入!"}}}}]);