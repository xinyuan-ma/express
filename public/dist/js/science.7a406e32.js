(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["science"],{"084a":function(t,e,i){},"0a49":function(t,e,i){var n=i("9b43"),a=i("626a"),s=i("4bf8"),c=i("9def"),r=i("cd1c");t.exports=function(t,e){var i=1==t,o=2==t,l=3==t,u=4==t,d=6==t,f=5==t||d,g=e||r;return function(e,r,m){for(var h,p,v=s(e),b=a(v),A=n(r,m,3),w=c(b.length),C=0,B=i?g(e,w):o?g(e,0):void 0;w>C;C++)if((f||C in b)&&(h=b[C],p=A(h,C,v),t))if(i)B[C]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return C;case 2:B.push(h)}else if(u)return!1;return d?-1:l||u?u:B}}},1169:function(t,e,i){var n=i("2d95");t.exports=Array.isArray||function(t){return"Array"==n(t)}},"1ae8":function(t,e,i){"use strict";e["a"]={data:function(){return{distanceText:"距您"}}}},3240:function(t,e,i){},"3f7c":function(t,e,i){"use strict";e["a"]={methods:{formatDistance:function(t){return t>1e3?"".concat(parseFloat((t/1e3).toFixed(1)),"km"):"".concat(parseInt(t),"m")}}}},"49a2":function(t,e,i){"use strict";i.d(e,"a",function(){return c}),i.d(e,"c",function(){return r});i("6762"),i("2fdb");var n=750,a=window.innerWidth*window.devicePixelRatio,s=a/n,c=function(t,e,i){if(!e)return t;var n=parseInt(e*s),a=0;i&&(a=parseInt(i*s));var c=t;return n&&(c=t.includes("?")?"".concat(t,"&imageView2/1/w/").concat(n):"".concat(t,"?imageView2/1/w/").concat(n)),a&&(c="".concat(c,"/h/").concat(a)),c},r=function(t,e,i){if(!e)return t;var n=parseInt(e*s),a=0;i&&(a=parseInt(i*s));var c=t;return n&&(c=t.includes("?")?"".concat(t,"&imageMogr2/thumbnail/").concat(n,"x"):"".concat(t,"?imageMogr2/thumbnail/").concat(n,"x")),a&&(c="".concat(c).concat(a)),c};e["b"]={methods:{clipImage:c,resizeImage:r}}},"4ef4":function(t,e,i){"use strict";var n=i("084a"),a=i.n(n);a.a},6419:function(t,e,i){"use strict";var n=i("ac2d"),a=i("ed08");e["a"]={methods:{viewDetail:function(t){var e=t.id,i=t.dis;e&&n["a"].openNewWebView({url:Object(a["d"])("/list-detail/".concat(e,"?dis=").concat(i)),isFitWindow:!1})}}}},"6a02":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list"},[t._l(t.list,function(e,a){return n("div",{key:"item"+(e.id||a),staticClass:"item",class:{smallBg:t.smallBg,noborder:a===t.list.length-1},on:{click:function(i){return t.viewDetail(e)}}},[n("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.url,expression:"item.url",arg:"background-image"}],staticClass:"item-bg"},[t.fields.video&&e[t.fields.video]?n("img",{staticClass:"video-icon",attrs:{src:i("ce106"),alt:""}}):t._e()]),n("div",{staticClass:"item-right"},[n("div",{staticClass:"item-title"},[t._v(t._s(e[t.fields.title]))]),t.fields.discount?n("div",{staticClass:"item-discount"},[t._v(t._s(t._f("discount")(e,t.showBlank)))]):t._e(),n("div",{staticClass:"item-desc"},[t._v(t._s(e[t.fields.desc]))]),n("div",{staticClass:"item-addr"},[n("div",[n("img",{staticClass:"icon-location",attrs:{src:i("7b7b"),alt:""}}),t._v(t._s(t.distanceText)+t._s(e[t.fields.distance]))]),t.showNav?n("div",{staticClass:"go-to",on:{click:function(i){return i.stopPropagation(),t.goToMap(e)}}},[n("div",{staticClass:"iconfont iconicon_nav"}),t._v("去这里")]):t._e()])])])}),n("div",{attrs:{id:"blank"}}),n("loading",{attrs:{reachBtm:t.reachBtm,list:t.list,isWaiting:t.isWaiting},on:{loadMore:t.loadMore}})],2)},a=[],s=i("1ae8"),c=i("6419"),r=i("8b3f"),o=i("f216"),l=i("c0c8"),u={name:"simple-list",props:{showNav:{type:Boolean,default:!1},showBlank:{type:Boolean,default:!1},list:Array,fields:{type:Object,default:function(){return{bg:"url",title:"title",desc:"desc",distance:"distance"}}},smallBg:Boolean,reachBtm:Boolean,isWaiting:Boolean},components:{loading:r["a"]},mixins:[s["a"],c["a"],o["a"],l["a"]],methods:{loadMore:function(){this.$emit("loadMore")}}},d=u,f=(i("4ef4"),i("2877")),g=Object(f["a"])(d,n,a,!1,null,"94aecbd6",null);e["a"]=g.exports},7514:function(t,e,i){"use strict";var n=i("5ca1"),a=i("0a49")(5),s="find",c=!0;s in[]&&Array(1)[s](function(){c=!1}),n(n.P+n.F*c,"Array",{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")(s)},"7b7b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAYCAYAAAD3Va0xAAAB2UlEQVQ4jZWVucrCQBSFTwZ3cAFxRxAsBO0EG0W00jfwIX0EW5fCXqwUxN3CxgWx8ecMRCaZ5FcPRMZ7z/0cTzJqvF6vF2za7/dYLBY4HA643++yGQqFkE6nUSwWkclk7COwgC6XC4bDIXa7nWZUlc1m0Ww2EQ6HddDpdMJgMMDj8fgXYioQCKDT6SCZTMqK4Mv1ev0JQtHLGc6+QaPRyBXCbHi5wThLeRjoZrPRTPl8HvV6/Z0D85tMJliv1xYfZ8kQy+VSgxQKBXS7XUuYXLPGnl1kCN5qVUIINBoN12zYo0cVGeJ2u1mK0WgUwWDQFcQeParIEHa63+93hbh5yBDxeNxSPJ/PH0F2Dxkil8tZis/nE/P53BXCHj2qyBClUgkej8fSmE6nWK1WGoQ19lRxlgx5RMbjseMu+EmpVEquj8cjttut5imXy/J5kyA+of1+X9vyJ/l8PvR6PXnu5C3jolqt/gShOMNZmGeNqlQqSCQSX0Po5YypN8gwDLRaLS14J9FDL2c0EBWLxVCr1T6C6KFXlbCbuF2ng2mKPfUrOe7IFLcdiUS0OmvsOckR5PV65c8ob68prllj72sQxQza7bYMlBfX9lxUOf4dqZrNZvKtUy5vAfgDyR67rdYND+UAAAAASUVORK5CYII="},9267:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("culture-template",{ref:"wrapper",staticClass:"science",class:{gradientBg:t.gradientBg},attrs:{title:t.title,bgUrl:t.bgUrl,videoUrl:t.videoUrl,needBack:t.needBack,isGoTop:!0}},[i("ScienceList",{attrs:{categoryId:t.categoryId,simpleInfoField:t.simpleInfoField,params:t.params},on:{"data-loaded":t.addGradientBackground}}),i("div",{staticClass:"topTitle",attrs:{slot:"topTitle"},slot:"topTitle"},[t._v("科创引领未来")]),i("switchTitle",{attrs:{slot:"switch",business:t.business},on:{changeTitle:t.changeTitle},slot:"switch"})],1)},a=[],s=i("fe54"),c=i("9299"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"science-list"}},[i("simple-list",{attrs:{list:t.list,reachBtm:t.reachBtm,isWaiting:t.isWaiting},on:{loadMore:t.getData}})],1)},o=[],l=(i("ac6a"),i("cebc")),u=i("a21f"),d=i("3f7c"),f=i("ffbe"),g=i("6a02"),m={name:"science-list",props:{categoryId:String,simpleInfoField:{type:String,default:"simpleInfo"},params:{type:Object,default:function(){return{}}}},components:{simpleList:g["a"]},mixins:[d["a"],f["a"]],data:function(){return{list:[],isWaiting:!0,startNum:0,reachBtm:!1}},created:function(){this.getData()},methods:{getData:function(){var t=this;if(!this.reachBtm){this.isWaiting=!0;var e=this.categoryId;return Object(u["b"])({vm:this}).then(function(i){var n=Object(l["a"])({channel:1,city:4,language:7,categoryId:t.categoryId,offset:10,start:t.startNum,lat:i.gdLatitude,lon:i.gdLongitude,topFlag:!0},t.params);t.$axios.content.queryContentByOrganize(n,{hideLoading:!0}).then(function(i){var n=i.data,a=n.result,s=n.totalRowNum;t.categoryId===e&&(a.forEach(function(e){t.getImageList({item:e,width:284,height:160}),e.desc=e[t.simpleInfoField],e.distance=t.formatDistance(e.dis)}),0===t.startNum?t.list=a:t.list=t.list.concat(a),t.startNum+=a.length,t.reachBtm=s===t.list.length,t.isWaiting=!1,t.$emit("data-loaded"))},function(e){throw t.isWaiting=!1,e})},function(t){throw t})}}},watch:{categoryId:function(){this.isWaiting=!0,this.startNum=0,this.reachBtm=!1,this.getData()}}},h=m,p=(i("9a02"),i("2877")),v=Object(p["a"])(h,r,o,!1,null,null,null),b=v.exports,A=i("ac2d"),w={name:"science",data:function(){var t="科 教",e="http://hhh.images.visitshanghai.com.cn/nine/science_top_new-2.jpg",i=[{title:"科教场馆",categoryId:"5-3",simpleInfoField:"address",show:!0,params:{}},{title:"高等院校",categoryId:"5-4",simpleInfoField:"simpleInfo",show:!1,params:{}},{title:"图书馆",categoryId:"5-5",simpleInfoField:"address",show:!1,params:{topFlag:!1}}],n=i[0],a=n.categoryId,s=n.simpleInfoField,c=n.params;return{title:t,isGoTop:!0,needBack:!1,business:i,categoryId:a,simpleInfoField:s,params:c,bgUrl:e,videoUrl:"http://hhh.images.visitshanghai.com.cn/liNy1uGyQwF3frKKr0TPWIxVFC2v?e=1563430635&token=JT9hop2MntCNMNz8O7UqTb4scQYpASy7sK2q11su:ib0oCLnY9_NdN7Lhhp11OnAB9iw=",gradientBg:!1}},components:{cultureTemplate:s["a"],switchTitle:c["a"],ScienceList:b},mounted:function(){A["a"].setAppTitle({title:"科教"})},methods:{addGradientBackground:function(){this.gradientBg=!0},changeTitle:function(t){this.business[0].show=this.business[1].show=!1,this.business[t].show=!0;var e=this.business[t];this.categoryId=e.categoryId,this.simpleInfoField=e.simpleInfoField,this.params=e.params,this.$refs.wrapper.changePosition()}}},C=w,B=(i("f45b"),Object(p["a"])(C,n,a,!1,null,null,null));e["default"]=B.exports},9299:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"discount flex-around"},t._l(t.business,function(e,n){return i("div",{key:n,class:{active:e.show},on:{click:function(e){return t.change(n)}}},[i("p",{staticClass:"text-overflow"},[t._v(t._s(e.title))])])}),0)},a=[],s=(i("ac6a"),{props:["business"],data:function(){return{currentIndex:0}},methods:{change:function(t){this.currentIndex!==t&&(this.currentIndex=t,this.business.forEach(function(t){t.show=!1}),this.business[t].show=!0,this.$emit("changeTitle",t))}}}),c=s,r=(i("c57e"),i("2877")),o=Object(r["a"])(c,n,a,!1,null,"0ee3beb6",null);e["a"]=o.exports},"9a02":function(t,e,i){"use strict";var n=i("b839"),a=i.n(n);a.a},b839:function(t,e,i){},c0c8:function(t,e,i){"use strict";i("7f7f");var n=i("ac2d");e["a"]={methods:{goToMap:function(t){var e={lat:t.lat,lng:t.lon,chainName:t.title||t.name,address:t.address,routerType:t.dis&&t.dis>1e3?1:3};n["a"].openRouterMap(e)}}}},c57e:function(t,e,i){"use strict";var n=i("fd04"),a=i.n(n);a.a},cd1c:function(t,e,i){var n=i("e853");t.exports=function(t,e){return new(n(t))(e)}},ce106:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAMAAABGS8AGAAAAWlBMVEUAAAD////x8fEKCgogICD8/Pz///9HcExGRka0tLT////j4+P///////////////+MjIzu7u7///+Xl5fNzc3////Gxsb///////9eXl7d3d14eHj///////9gh98DAAAAHXRSTlOA3PKCiPInAJTFxOX7dWACsO8FtdVQ0KyYnOGmhC0xhpgAAAM1SURBVFjDzZl/c7IwDMdTCrX80CooKJr3/zaftHKbbELTYm9P/tnddn4W802aNIWd14y67K+VEEXTFEJU1/1FGf+nwPN3tR8KtNbgy49i2KstYPUQTxxm47kvyfrzmE2/Eg8VBzaH6snsj7ccXiy/HfsnvTqYYHB7cM7WnYa3prvauX1ow8AOm5UL1IldZg4dAFY2CKdOgsdkd7IBUUxw+yDps6MX69BH8rp5tBywdbcpc2BaXjZvnf4FvlDa1hoCTJOMxcUH3lPQSglBJkv60H4dfKV/fodgu9PXvJplcDtQMmiIME3pMbRLYEPcOo/hgswp0INZAFMcxjiuJY8Ujbdgs4/295l39UzBb/CF4ruBS2SK8+U3WBVY6C1ckJoQ6ie4pXq7w0a7Uw22P8APqgvYbFQpjzlYNVjL7WBZY6Nm4AobDR8w3WD1Cj58JBBTMA7f4FZgln8GnGco2i8wOXyED9lxctmCjcCT/BRYnlCYCUwOd6vpOZ4DlO2eLoNLiWzFYSnpsC34oZKZSwwCK09KaDecnPOAxFAOTEWn/WDMbtxcduVHYIE1MMDUupkK1ygsWHmk+wKzu3dnYwG2L2smmKmhtic+7AbMgAtmapjhsANTYB8AZmnYY2FAect5DuZoSGWtgFrdLQjM0PBGzQ9IuzwQ7NUwJ/Xg6tPuDdirYYZXqHCMAHs0HLECgecY8LqGZxQE7qPAqxr2BC683W4JvKJhiQU08eDlzl5iswm8ODtZ8IZQLA+RNhTx4q0kc++yIi7dVsvPpltkgawfGLZA4krac8TZko45hPB08x9CEcemt424YzP4oGc0PnfQh7YmTqt2rSmwmbKGC9dMg9q/T7VZ+w8YWJgD3DSwsEcs9sg5jVjcoZC9HvkaCnljLHsk/B5jPYP3E3ziDrEvg7f3qjCGjN2vVwXf5Ube2e7OLzcm1XUs3QUy2ZU33SXdJFsrJFuEmGSrmw8sm+Dtsmn7ekwurMfcIjbJQs9sWkHC8gpy09IUVpemyda85HOixXTCVfrORC//zV89V6R7YLFnXZonofBHLMMHm1TPboRmPhSa/+dp88dj7Hyo3/gYu+X5+B9slq0PbUEvLQAAAABJRU5ErkJggg=="},e853:function(t,e,i){var n=i("d3f4"),a=i("1169"),s=i("2b4c")("species");t.exports=function(t){var e;return a(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)||(e=void 0),n(e)&&(e=e[s],null===e&&(e=void 0))),void 0===e?Array:e}},f216:function(t,e,i){"use strict";i("28a5"),i("a481");var n=i("7618");e["a"]={filters:{discount:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("object"===Object(n["a"])(t)){var a=t;e=a.products,t=t.priceRate}if(t&&t<10)return"".concat(t,"折");if(i){if(e&&e.length>0){var s=e[0],c=s.id,r=s.discountsDesc;return c&&r?"优惠":""}return""}return""},price:function(t){if(t)return t.replace("人均 ","￥")},shortContent1:function(t){if(t){var e=t.split("；");return e.length>0?e[0]:void 0}},shortContent2:function(t){if(t){var e=t.split("；");return e.length>1?e[1]:void 0}}},methods:{discount:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("object"===Object(n["a"])(t)){var a=t;e=a.products,t=t.priceRate}if(t&&t<10)return"".concat(t,"折");if(i){if(e&&e.length>0){var s=e[0],c=s.id,r=s.discountsDesc;return c&&r?"优惠":""}return""}return""},shortContent1:function(t){if(t){var e=t.split("；");return e.length>0?e[0]:void 0}},shortContent2:function(t){if(t){var e=t.split("；");return e.length>1?e[1]:void 0}}}}},f45b:function(t,e,i){"use strict";var n=i("3240"),a=i.n(n);a.a},fd04:function(t,e,i){},ffbe:function(t,e,i){"use strict";i.d(e,"b",function(){return a});i("7514");var n=i("49a2"),a={methods:{getVideoLink:function(t){var e=t.medias.find(function(t){return 2===+t.mediaType});return e?e.url:""}}};e["a"]={methods:{getImageList:function(t){var e=t.item,i=t.single,a=void 0===i||i,s=t.clip,c=void 0===s||s,r=t.width,o=t.height;if(a){var l=e.medias.find(function(t){return 1===+t.mediaType&&(e.imgUrl=e.url=c?Object(n["a"])(t.url,r,o):Object(n["c"])(t.url,r,o),!0)}),u=!!l;return u||console.warn("存在无图片条目",e),u}e.imageList=e.medias.filter(function(t){return 1===+t.mediaType&&(t.imgUrl=t.url=c?Object(n["a"])(t.url,r,o):Object(n["c"])(t.url,r,o),!0)});var d=e.imageList.length>0;return d||console.warn("存在无图片条目",e),d}}}}}]);