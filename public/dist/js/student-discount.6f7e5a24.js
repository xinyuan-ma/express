(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["student-discount"],{1037:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ysh-copyright",style:{backgroundColor:t.bgColor}},[i("p",{staticClass:"copy-img"},[i("img",{staticClass:"icon1",attrs:{src:n("16c6")}})]),i("p",{staticClass:"copy-text"},[t._v("- 上海城市推广中心出品 -")])])},a=[],s={props:{bgColor:{type:String,default:"#f5f5f5"}}},o=s,r=(n("d67d"),n("2877")),c=Object(r["a"])(o,i,a,!1,null,"7e098d9e",null);e["a"]=c.exports},"16c6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAAAvCAYAAADtnZQMAAAABGdBTUEAALGPC/xhBQAADPlJREFUeAHtnAtwVUcZgMmTJDRQCDWloiAFi4Al2lRIk0lCIpXX0FYroJ0pTivVaZWpMw6lL3mWWsGptkotndqqUKfTopQy6kAhCeFZQhEFhIaShoQWlMhDSEICid9/evfMns059557c28SAjtzsvs/9v///f99n3MT16OdaePGjfMRMS3uk/TquHHjnhGR4OeC+j7Fc62trS8WFxc/L/hYpc2bNw+4ePHiH5A/En3/Q/f8oqKi12Klz0suuuM2bdq0CP13w9Obpzo+Pn5OYWFhuVedSPFxqmJJScmdLS0tvwE+hrLpBOGwonnlBCgfWplOT0xM/HxCQsIFUrWGv4DMa5HZqOGiWsRhz+C4OZrQeoLXGyde0nBRK1ZWVvasqan5HTonouPn6FoowvHjUPxYqSuCfhi+58iPgG/VaeGW8WMDsraLLxOlMgqnoPBNigk8mRDpyJtH5+fn/4cA/Ril94BLFl4tZVDO1GApNiGnhieFOlRpVZ2jJ+UN6FkFz0mjzkEM2WfgwgaR38+olFZaWpoK7pyBjwpI4F5B53QRRr6AztNKABfRcZNpv0MH9KEgniN34CMBLl2y+uJ2ZOVZwUPZTARJ4KwEYQBMRTh7L7SlfpUSsJWB0dVIY/6BsNEBkdLAPHkUrOUtOPlOppW3NVyXLpaXl/dtamr6lmHkLOBFBi5WYA4+GxIv0hmKbxlazoLbRuBuMPCeIIGr6dWrlz5tzfNkdhLi6ShTnaiuDeXl5Z2mvXsNK7cJzLobk2na0CVgohU8RstKgAcxqJn8I4b+VwsKCmqSkpLMKU4qtUnUq2atmzBmzJg6RWQKeQv8CwruTjntak1JSZlMm/4VaNfbvXv3vk/KmZmZVWSytsUsib8HDhxYpdYkS9G2bdtSc3JymiDavYepcx4jcDo4c82TOieYCkv69OmzNDs7+4xpLbQ4hvds6i+BlmbSA3ALsu8i2Gs96L7QrM0vwfhdnZnZI52OGZM1T/TIpuX48eODGImVtMFe0Hbu3Jlx/vz5yeBkzY12akxOTv5rbm7uvx3Bi7YWJU8aWVtbeytwf4VTOaP8fTZGBxQcad4ZwYvU1mjVszYswYTJ4syalMfocRt5etWGjIyMstGjR5/XkVIeNmzYBbItJv4q3D4PBA0eU+Y1zc3Ne5j+BvlRU1dXt2///v23jBw5sskPf3fmYbkYR6eXqTMpiu08hrzlaimwg0eA4lE4lfxj1p+dopDR9mUyX4ETfuqOOnHixBco7iXwg8nHgLOPIMBu6RD6drsR2oujoWLLrvbK8aova1t9ff0Xoe8IHJEsVtouB/X1AIm036t6pPjhVLQ2R1bwUJbCuewNkFNocCvrxxyus5ZRlpN2WEqkDgf8EWyZK6jra8FG/zdpvFwSRDXhwNdpy1I2Lqf8CsbmU9iygWY4T9qGAGzOYlOyHv7r4P07bZ7E2v2xsIGTKzp7YBhV2wt+SQmwFNDIJ0BMESRKZROzFONKafQRgiBoX4lGVMF4kKlWDqy+AieC0TmBLOrBQ+7nkLuc9oka34m2/xbm+70qIDcBnrXk1wkPeRZ++j3F8QLjh7A7vdTzmexNpnXOQ5c00pEw6LNy1iOA8x0EAPgbeZZA+472zODsk61PH2a9ILBtUBCejiRNCqZs9+7d10AfaPDcaMAxB9XQXogm6f3qfnA7h07ruio9PX3pmTNnfgLNCrRYROAWE6SnpOyWCOgGens9NK+znaMaHcWabhzIzgWCrhVypmXkyUX4XDETf7TyLAhmMvRa+O/nMsNxae1Vh82O+O5HUseLxwoeG4ZDzNnjGfrPwniMm5WHMFBuW3qQ17NunKT4KYElYYjcW3omAnuwrKxsOAGUDYsddMo9qfRDHjnz2Ylgq5sKG9fJhZD3rNzFPkYAm2jTRJ5n8eEfg9mMz34Kj2xifCfkPoAO2URa07NZUY28Hiy270EsMBkCsKMnEpQs8EEbKFMuPPI4EhujVIxxBI+D+iYHU5QAHPYhzzL0+d6wwP9fAhPSyfCJT+YFHj8WywCwEwMiHyCfjtuAP9ewQfzAJgYK6GjBX3LlGDx4ZsUQ8JMIzUT4YY2vgSCsVTsuDe8o4sgpOgIZZaHq6PzhlHHMNAIRs6NCOLbovATuNtpdii/iCJyQFjLCBjFjOQIsBHgcA0dwKtkjTyH85MiTg+dDplzgJyoqKm6SqdZNDkbLoi4Xunaizq9tIMoFZHe16dhqIYEbi236Jk3Wtzt4Xg7HBVbwEBRP5B8nz0FwMz32VXrsn8MRJLzUH8jZ5yaKe9zqInu26NJoH6ErbD1a/U4rylmWI9GTtKkvRlSTP+42ctwMhLfNUYIR+DNiMBT/rGRt3K/qufEqmuVIblamUWkhSFl8pyLodYxznWdVRa+cugluNAyT24aZOo3AraDB/g+SeuVOLgfOdTNo09d4HqDdT7fTpH7ImIusd/HVtUoWsOe0aQWPSoMVs+TwJ2HcDTquvWV6UA4y+hhyVhnwZQPio8G6sbTPAeu0MMtpxMM67Ieqp09hoXh1+hGMvRvEOh0ZrIxB9rWO8FH/A0advuEJVr1b0Qi8dQxrb6MiDd4LzMurOQ8+4tcADJYLXDsBH7WBK6xAx/0LTW7z8lrcAK0Wv5ZKOVSKaLfJWnVQBLPFP8AO0lUHb+X7NTQ0ZGFMEoEaTz6TXOfNl00SstZyJvynTugG5evNNtD2IQonM45sToCzwNt7BMrNaWlpFWPHjj0rvOzc07jd+rSqF8jty5KIgmcIawPKkaCxsVHOV31VwFSuMScwlS6Whw3T7exuN2i0y7YoL6/Zhc4wG0D75+KX0+APCY12W5kUpaASu/VsGRCcmXudPXt2Nnj5cNdOyBlA4CfQAf4Wk+AxmiZinGyhfSV474KxWwSPjd5jOLjApeEShOUueFcUd5uueEHir3WMyoxI1zxPwQHh+gE0KK8QaWxY/CEFdiIDjpVzbqxTAqNyaEyCx8grwXr5bsVXYj0Mek/qS0jXYeqQjoiP42MSPObjfYgehT/v5bmP4Lzk5lvwcjWWy85Vdl/dItGmqo5oCLNVVUzWPDE+cIZT57hXWIQHgLYvpWlkNUH7QUc0tCN14NRfoq+YZ4Sul/bKTdIK8kpyx7Zb51Nl5PSifC95m2mYgfEw/j0Zs+ApI1SO0QcwxA4e+ApF6065vNphN7iCte8Xerto/zIc/qiOC1UWOfAcxW/6JyV1yJEO0sMKHpFsRVkoWVGlY1DI3hdVhR0rrNpF3V4dx/FoIjvKAnzfAH41Admn06Uso4tXbyJLvhhT6ZgqxGTNU8Kv5g4P2J2VEVVI4GSdf4RBM5+nYuvWrfbhW69ldnJGsC3navB0T3Vc+RZDVU9+MiZn3bBSh615YVl1BTIzwhazqevLNLpOn0IZaW3e/Sn3XB15yhOdnBM8+RHO0+S75F5YmWNOmwov+dXg6d7oAmWClcLv+WP6Pq8LNPOyNiHU7ZP3xabWbGvksdvpkCsdTe+VXlzDUlbr5gTw+/nQ2dclvRU8KthzrCmQ2+skcH1NvMBsedu8t3LjC+BuNGj2ltfARwTShiEuFQe74NqNYmpLQJ/jVU0oodQZpHjYkNRSfxjPKL6gvll7RoDLki+yhZefyyUDy82Ua0rcsWNHJj9TcsyxVJDPt62DJi8D5XMHxw8redd0VH4CzTu7B02pqampNYKTwGKwbIllR3sbz9d57IT8KhvwKMhHULxiGcEOLNjanMiZaTK6ikwxzCirOOQuoPopkxYKRl4NTlbXew522vYN6NKpw0mPYstpbJHrMSvhA3mjokCFu54DvJRT+Mn0LHL7YyRB6imRwC1BQJaOBK7g3vG0OI8Xiyt1GuU6nHUAp/4Kvu8ZtPd5C3yCxsknbO/xpBt0HSzTAbOMjOHoeFdkoM8k+4Vvpv7qSOpLB8aGWQTwZV1Z4O32azrOTxk7JAgvRmKLl3zp0eZ0dgnD5fcEPVAkl6KOXk/Pke8TL2JMjvDoCZr6pkU+h/MMHPLX0zmCvkmg/qRgMnS9sSijW75mvseUzXu0z4BLMPGdATsO6Ti1mefbBGenGEMDTCPX8bmCXJZKckwb1HueemuEQKMdARecSvBV852GvCoKlRy2hWKOEb2NDdjvdWi2L4fxW3OM7JGY2HriAXaIImw6znM7AXhTKcbJe8DJqwxJb/Tv33+G2C4AeXkgF/gp6j0ssCQW4HegN34COf6Wg8+TqdWBdQdkWrUNdWeJLRZb3zE10HllzbI2FDoNP5YoGL9JO93ar1giznWb4rZs2ZLO2lIoygnAOVMqi2wxuHNMc9ZoVHTWA5nD7+DZSr02Czv0odDyeKT3yjS7Cxn2Z9zgQibW3K8wdcv03BlHmQ8JlPwjIOeOAmPwSS74W1UDKFfzBZxs/21e2p8NPTfKttdi05/QY3Xq/wNRob5/rLR2zgAAAABJRU5ErkJggg=="},"1af6":function(t,e,n){var i=n("63b6");i(i.S,"Array",{isArray:n("9003")})},39113:function(t,e,n){},"3b2b":function(t,e,n){var i=n("7726"),a=n("5dbc"),s=n("86cc").f,o=n("9093").f,r=n("aae3"),c=n("0bfb"),u=i.RegExp,d=u,l=u.prototype,f=/a/g,p=/a/g,g=new u(f)!==f;if(n("9e1e")&&(!g||n("79e5")(function(){return p[n("2b4c")("match")]=!1,u(f)!=f||u(p)==p||"/a/i"!=u(f,"i")}))){u=function(t,e){var n=this instanceof u,i=r(t),s=void 0===e;return!n&&i&&t.constructor===u&&s?t:a(g?new d(i&&!s?t.source:t,e):d((i=t instanceof u)?t.source:t,i&&s?c.call(t):e),n?this:l,u)};for(var v=function(t){t in u||s(u,t,{configurable:!0,get:function(){return d[t]},set:function(e){d[t]=e}})},h=o(d),m=0;h.length>m;)v(h[m++]);l.constructor=u,u.prototype=l,n("2aba")(i,"RegExp",u)}n("7a56")("RegExp")},4374:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"student-discount",class:{bg_fff:t.noMessage}},[!t.isCertified&&t.isLoading?i("div",{staticClass:"tips",on:{click:function(e){return t.toCompleteInfo(1)}}},[i("img",{staticClass:"tip-icon",attrs:{src:"http://hhh.images.visitshanghai.com.cn/student-combined@3x.png",alt:""}}),i("span",{staticClass:"hiddenLine1"},[t._v("本商品为学生专供，为了您的购物体验请先完善个人信息")]),i("i",{staticClass:"iconfont iconlist_right"})]):t._e(),t.activityVisible?i("div",{staticClass:"ad-box",on:{click:t.freeGetYogurt}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:"http://hhh.images.visitshanghai.com.cn/student/banner.png",expression:"'http://hhh.images.visitshanghai.com.cn/student/banner.png'"}],staticClass:"ad-img",attrs:{alt:""}})]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.noMessage&&t.activeData,expression:"!noMessage && activeData"}],staticClass:"lists"},t._l(t.activeData,function(e,n){return i("div",{key:e.activityId,staticClass:"shadow"},[0===n?i("div",{staticClass:"start-time"},[i("p",{staticClass:"time"},[t._v(t._s(t.dateFormat(e.startTime,"mm-dd hh:MM")))]),"NOSTART"===e.status?i("p",{staticClass:"btn"},[t._v("即将开始")]):t._e(),"END"===e.status||e.isEmpty?i("p",{staticClass:"btn END"},[t._v("已结束")]):t._e(),e.activityCountdown>1e3&&!e.isEmpty?i("p",{staticClass:"btn"},[t._v("\n\t\t\t\t\t"+t._s(t.handleCountDown(e.activityCountdown)))]):t._e()]):t._e(),1===n?i("div",{staticClass:"start-time"},[i("p",{staticClass:"time"},[t._v("下一场预告")]),i("p",{staticClass:"next-desc"},[t._v(t._s(t.dateFormat(e.startTime,"mm-dd hh:MM")))])]):t._e(),i("ul",{staticClass:"list-item"},t._l(e.list,function(e){return i("li",{key:e.productId,staticClass:"item",on:{click:function(n){return t.toDedtail(e)}}},[i("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.qrUrl,expression:"items.qrUrl",arg:"background-image"}],staticClass:"img-bg"}),i("div",{staticClass:"up"},[i("span",{staticClass:"name hiddenLine1"},[t._v(t._s(e.title))]),i("p",[i("span",{staticClass:"price-icon price"},[t._v("¥")]),i("span",{staticClass:"price"},[t._v(t._s((e.price/100).toFixed(2)))]),i("span",{staticClass:"old-price"},[t._v("¥"+t._s((e.marketPrice/100).toFixed(2)))])])]),i("div",{staticClass:"down"},["NOSTART"===e.btnStatus?i("p",{staticClass:"num"},[t._v("限量："+t._s(e.stock)+"件")]):i("div",{staticClass:"progress-box"},[i("div",{staticClass:"progress"},[i("div",{staticClass:"progress-bg",style:{width:100-Math.floor(e.stock/e.total*100)+"%"}})]),i("div",{staticClass:"progress-num"},[t._v("已售"+t._s(100-Math.floor(e.stock/e.total*100)+"%")+"\n\t\t\t\t\t\t\t")])]),i("p",{staticClass:"btn",class:e.btnStatus},[t._v("\n\t\t\t\t\t\t\t"+t._s(e.btnStatusText))])])])}),0)])}),0),i("div",{directives:[{name:"show",rawName:"v-show",value:t.noMessage,expression:"noMessage"}],staticClass:"not-fount"},[i("img",{attrs:{src:n("4784")}})]),i("ysh-copyright",{directives:[{name:"show",rawName:"v-show",value:t.noMessage,expression:"noMessage"}],attrs:{bgColor:"#fff"}}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.activeData.length&&t.activeData[0].list&&t.activeData[0].list.length&&t.noMore,expression:"activeData.length && activeData[0].list && activeData[0].list.length && noMore"}],staticClass:"no-more"},[t._v("-\n\t\t已经到底了 -\n\t")]),i("v-dialog",{attrs:{visible:t.isEndActivityDialogVisible},on:{"update:visible":function(e){t.isEndActivityDialogVisible=e}}},[i("div",{staticClass:"service-dialog end-activity"},[i("div",{staticClass:"bg-icon"}),i("div",{staticClass:"title"},[t._v("温馨提示")]),i("p",{staticClass:"tips1"},[t._v(t._s(t.$t("customDialog.endActivity")))]),i("div",{staticClass:"confrim-btn",on:{click:function(e){t.isEndActivityDialogVisible=!1}}},[t._v(t._s(t.$t("customDialog.know")))])])])],1)},a=[],s=n("768b"),o=(n("5df3"),n("ac6a"),n("96cf"),n("3b8d")),r=n("ac2d"),c=n("1037"),u=n("e3be"),d=n("62a2"),l=n("ed08"),f=n("a21f"),p=d["a"].dateFormat,g={name:"StudentDiscount",data:function(){var t="专享优惠抢购",e="WH_Student_10008";return{buyTrackName:t,buyTrackCode:e,activeData:[],noMore:!1,infiniteState:!1,noMessage:!1,token:"",timer:0,isLoading:!1,isCertified:!1,activityVisible:!1,productUrl:"",isEndActivityDialogVisible:!1}},created:function(){var t=this;r["a"].setAppTitle({title:this.$t("专享特惠")}),this.getList(),r["a"].noCallAppLoginGetInfo(function(e,n){t.token=n,t.token?t.isVefifyStudent().then(function(e){t.isLoading=!0,t.isCertified=e}).catch(function(e){t.isLoading=!0,t.isCertified=!1}):t.isLoading=!0}),r["a"].refreshPage(function(){t.isLoading=!1,r["a"].noCallAppLoginGetInfo(function(e,n){t.token=n,t.token?(r["a"].showLoading(),t.isVefifyStudent().then(function(e){r["a"].hideLoading(),t.isLoading=!0,t.isCertified=e})):t.isLoading=!0})})},methods:{freeGetYogurt:function(){var t=this;r["a"].getStore({keyName:"stu-shdx-zhuanxiangyouhui-banner"},function(e){100===e.msgCode&&e.result.valueContent||(t.$uweb.trackEvent("各渠道专享优惠页面活动栏stu-shdx-zhuanxiangyouhui-banner","点击"),r["a"].setStore({keyName:"stu-shdx-zhuanxiangyouhui-banner",valueContent:"stu-shdx-zhuanxiangyouhui-banner"}))}),this.productUrl&&r["a"].noCallAppLoginGetInfo(function(e,n){t.token=n,t.token?t.getYogurtActivity(t.params):setTimeout(function(){r["a"].callAppLogin(function(e){e.token&&t.getYogurtActivity(t.params)})},200)})},dateFormat:p,toCompleteInfo:function(t){this.token?r["a"].sourceType()?r["a"].openNewWebView({url:Object(l["d"])("/fill-student-info/".concat(t)),isFitWindow:!0}):this.$router.push("/fill-student-info/".concat(t)):this.login()},login:function(){r["a"].callAppLogin(function(){})},toDedtail:function(t){var e=this;this.$uweb.trackEvent(this.buyTrackName+this.buyTrackCode,"点击",t.title),this.token?this.isCertified?r["a"].openNewWebView({url:t.spreadUrl,isFitWindow:!0}):this.$modal({content:"请进行学生身份认证",confirmText:"确认",cancelText:"取消",confirm:function(t){e.toCompleteInfo(2)}}):this.login()},getCurrentTime:function(){return new Promise(function(t,e){Object(u["b"])().then(function(e){t(e.result)})})},getList:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,n,i,a,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r["a"].sourceType()&&r["a"].showLoading(),t.next=3,this.initYogurtActivity();case 3:if(e=t.sent,!e){t.next=9;break}return t.next=7,this.getYogurtActivity(this.params,"show");case 7:n=t.sent,n&&(this.activityVisible=!0);case 9:return r["a"].showLoading(),t.next=12,this.getCurrentTime();case 12:return i=t.sent,t.next=15,this.getListData();case 15:a=t.sent,this.activeData=a.splice(0,2),this.activeData.length&&this.activeData[0].list.length?this.noMore=!0:this.noMessage=!0,clearInterval(this.timer),this.timer=setInterval(function(){i+=1e3,s.getIsActive(s.activeData,i)},1e3),this.getIsActive(this.activeData,i),r["a"].hideLoading();case 22:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleCountDown:function(t){var e=0,n=0,i=0,a=0;if(!(t<0)){var s=parseInt(t/1e3);return e=parseInt(s/3600/24),n=parseInt(s/3600%24),i=parseInt(s/60%60),a=s%60,(n<10||i<10||a<10)&&(n=n<10?"0"+n:n,i=i<10?"0"+i:i,a=a<10?"0"+a:a),e=e<=0?"":"".concat(e,"天"),"".concat(e," ").concat(n,":").concat(i,":").concat(a)}},isVefifyStudent:function(){return new Promise(function(t,e){Object(u["c"])({}).then(function(e){if(0===e.code)t(e.result);else{var n=!1;t(n)}}).catch(function(t){e(t)})})},soldPercentile:function(t,e,n){this.$set(e,"activityCountdown",e.endTime-n)},getIsActive:function(t,e){var n=this;t.forEach(function(t){t.list.forEach(function(i){e<t.startTime?(i.btnStatus="NOSTART",i.btnStatusText="即将开始",t.status="NOSTART"):e>=t.endTime-1e3?(i.btnStatus="END",i.btnStatusText="已结束",t.status="END",n.soldPercentile(i,t,e),clearInterval(n.timer)):i.stock>0?(i.btnStatus="START",i.btnStatusText="立即抢购",n.soldPercentile(i,t,e),t.status="START"):(n.soldPercentile(i,t,e),i.btnStatus="NONUM",i.btnStatusText="已抢完",t.status="NONUM")})})},getListData:function(){var t=this;return new Promise(function(e,n){Object(u["d"])().then(function(n){n.data&&n.data.length&&n.data[0].list&&n.data[0].list.length?(t.currentActiveStartTime=n.data[0].startTime,t.currentActiveStartEnd=n.data[0].endTime,e(n.data)):(e([]),t.noMessage=!0)})})},initYogurtActivity:function(){var t=this;return new Promise(function(e,n){r["a"].sourceType()&&Promise.all([Object(f["d"])(),Object(f["e"])({vm:t})]).then(function(n){var i=Object(s["a"])(n,2),a=i[0],o=i[1];t.params={lat:o.gdLatitude,lon:o.gdLongitude,deviceId:a.deviceId},e(!0)}).catch(function(){r["a"].hideLoading(),t.$toast({content:"请开启您的位置信息，重新启动App"}),e(!1)})})},getYogurtActivity:function(t,e){var n=this;return new Promise(function(i,a){r["a"].sourceType()&&r["a"].showLoading(),n.$axios.activity.queryYogurtActivity(t).then(function(t){if(t.data=t.data||{},n.productUrl=t.data.spreadUrl,"show"===e){var a=!!t.data.location&&!!t.data.order;i(a)}else t.data.location&&t.data.order?r["a"].openNewWebView({url:n.productUrl,isFitWindow:!0}):n.isEndActivityDialogVisible=!0,i()})})}},beforeDestroy:function(){clearInterval(this.timer)},components:{YshCopyright:c["a"]}},v=g,h=(n("c4ab"),n("2877")),m=Object(h["a"])(v,i,a,!1,null,"431a3059",null);e["default"]=m.exports},"469f":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("7d7b")},4784:function(t,e,n){t.exports=n.p+"img/off-bg.7659843f.png"},"5d73":function(t,e,n){t.exports=n("469f")},"62a2":function(t,e,n){"use strict";n("456d"),n("ac6a"),n("3b2b"),n("a481");e["a"]={dateFormat:function(t,e){var n=new Date,i="日一二三四五六";t&&n.setTime(t),e=e||"yyyy-mm-dd";var a={"m+":n.getMonth()+1,"d+":n.getDate(),"w+":i.charAt(n.getDay()),"h+":n.getHours(),"M+":n.getMinutes(),"s+":n.getSeconds()};return/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(n.getFullYear()+"").slice(-RegExp.$1.length))),Object.keys(a).forEach(function(t){new RegExp("(".concat(t,")")).test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?a[t]:"00".concat(a[t]).slice((""+a[t]).length)))}),e}}},"768b":function(t,e,n){"use strict";var i=n("a745"),a=n.n(i);function s(t){if(a()(t))return t}var o=n("5d73"),r=n.n(o);function c(t,e){var n=[],i=!0,a=!1,s=void 0;try{for(var o,c=r()(t);!(i=(o=c.next()).done);i=!0)if(n.push(o.value),e&&n.length===e)break}catch(u){a=!0,s=u}finally{try{i||null==c["return"]||c["return"]()}finally{if(a)throw s}}return n}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(t,e){return s(t)||c(t,e)||u()}n.d(e,"a",function(){return d})},"7d7b":function(t,e,n){var i=n("e4ae"),a=n("7cd6");t.exports=n("584a").getIterator=function(t){var e=a(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},"8d17":function(t,e,n){},a21f:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"d",function(){return o}),n.d(e,"e",function(){return r}),n.d(e,"a",function(){return c}),n.d(e,"c",function(){return u});var i=n("ac2d"),a=null;function s(t){var e=t.force,n=void 0!==e&&e,s=t.vm;return new Promise(function(t,e){if(a&&!n)t(a);else if(i["a"].sourceType())i["a"].gainLocation(function(n){var i=n.result;i&&i.gdLatitude&&i.gdLongitude?(a=i,t(i)):e(new Error("获取位置失败"))},s);else{var o={gdLatitude:"31.24916171",gdLongitude:"121.48789949"};t(o)}})}function o(){return new Promise(function(t,e){i["a"].getClientInfo(function(n){var i=n.msgCode,a=n.result;100===+i?(console.log("getDeviceIdgetDeviceId",a),t(a)):e(new Error("获取设备信息失败"))})})}function r(t){t.force;var e=t.vm;return new Promise(function(t,n){if(i["a"].sourceType())i["a"].gainNowLocation(function(e){var i=e.msgCode,s=e.result;100===i&&s&&s.gdLatitude&&s.gdLongitude?(a=s,t(s)):n(new Error("获取位置失败"))},e);else{var s={gdLatitude:"31.312764",gdLongitude:"121.393972"};t(s)}})}function c(t,e){}function u(){return Promise.resolve({gdLatitude:"31.24916171",gdLongitude:"121.48789949"})}},a745:function(t,e,n){t.exports=n("f410")},c4ab:function(t,e,n){"use strict";var i=n("8d17"),a=n.n(i);a.a},d67d:function(t,e,n){"use strict";var i=n("39113"),a=n.n(i);a.a},ed08:function(t,e,n){"use strict";n.d(e,"d",function(){return o}),n.d(e,"a",function(){return r}),n.d(e,"g",function(){return c}),n.d(e,"c",function(){return u}),n.d(e,"f",function(){return d}),n.d(e,"j",function(){return g}),n.d(e,"h",function(){return m}),n.d(e,"b",function(){return b}),n.d(e,"e",function(){return w}),n.d(e,"i",function(){return y});var i=n("f121"),a=n("f76d"),s=i["a"].ENV_URL,o=function(t){return"".concat(s,"/#").concat(t)},r=function(){return new Promise(function(t,e){if(window.AMap)t(window.AMap);else{var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="http://webapi.amap.com/maps?v=1.4.14&callback=initAMap&key=555c914c29cb33d914437914f1b79b49",n.onerror=e,document.head.appendChild(n)}window.initAMap=function(){t(window.AMap)}})};function c(t,e){"string"===typeof e?localStorage.setItem(t,e):localStorage.setItem(t,JSON.stringify(e))}function u(t){var e=localStorage.getItem(t);if("string"===typeof e)try{return JSON.parse(e)}catch(n){return e}}var d={appScheme:"metro://",downloadAppUrl:"http://anijue.bangdao-tech.com/p/q/jhbvw8xg/pages/share/index.html",packageName:"com.app.shanghai.metro",otherAppPage:"metro://qrcode"},l=Object(a["a"])(),f="",p="";"iOS"===l?(f="https://itunes.apple.com/cn/app/id1395725438",p="saicpassenger://"):f="https://marketing.saicmobility.com/mis-h5/app-download";var g={appScheme:"saicpassenger://",downloadAppUrl:f,packageName:"com.saicmobility.user",otherAppPage:p},v="",h="";"iOS"===l?(v="https://apps.apple.com/cn/app/id732618720",h="shiminyun://"):v="http://m.eshimin.com/";var m={appScheme:"shiminyun://",downloadAppUrl:v,packageName:"mobi.w3studio.apps.android.shsmy.phone",otherAppPage:h},b=["1、打开微信“乘车码”小程序，点击“开通乘车码”","2、选择优先扣费方式，并开通免密支付","3、开通成功后，日常使用“游上海”APP公交乘车码即可快捷乘车"],w=["1、下载Metro大都会App，并注册登录",'2、进入底部菜单栏"乘车"页面后，点击 “立即开通”(需要打开蓝牙)',"3、开通成功后，日常使用游上海App地铁乘车码即可快捷乘车"],y=function(t){t="string"===typeof t?t:String(t);var e=/^[\d]{17}[0-9|X|x]{1}$/;if(e.test(t)){var n=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],i=t.slice(0,17),a=t.slice(17,18);a=isNaN(parseInt(a))?a.toLowerCase():parseInt(a);for(var s=0,o=0;o<17;o++)s=(s+=parseInt(i.charAt(o))*n[o])%11;var r=[1,0,"X",9,8,7,6,5,4,3,2],c="X"===r[s]?r[s].toLowerCase():r[s];return a===c?{code:0,msg:t}:{code:0,msg:"你输入的身份证号码格式不对!"}}return{code:0,msg:"你输入的身份证号码格式不对,请重新输入!"}}},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray}}]);