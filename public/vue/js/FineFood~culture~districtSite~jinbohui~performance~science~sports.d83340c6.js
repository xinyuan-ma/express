(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["FineFood~culture~districtSite~jinbohui~performance~science~sports"],{"26a1":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"h",function(){return i}),n.d(t,"e",function(){return r}),n.d(t,"g",function(){return c}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return l}),n.d(t,"f",function(){return d});n("a481"),n("28a5"),n("3b2b");function o(e){var t=e.offsetTop,n=e.offsetParent;while(null!==n)t+=n.offsetTop,n=n.offsetParent;return t}function i(e,t){"string"!==typeof e&&"number"!==typeof e||"undefined"!==typeof t?e===document?(console.log("target:document"),document.body.scrollTop=t||0,document.documentElement.scrollTop=t||0):e.scrollTop=t||0:(t=e,e=document,document.documentElement.scrollTop=t,document.body.scrollTop=t)}function r(e){return e!==document&&e?e.scrollTop:document.documentElement.scrollTop||document.body.scrollTop}function c(e,t){"string"!==typeof e&&"number"!==typeof e||"undefined"!==typeof t?e===document?(console.log("target:document"),document.body.scrollLeft=t||0,document.documentElement.scrollLeft=t||0):e.scrollLeft=t||0:(t=e,e=document,document.documentElement.scrollLeft=t,document.body.scrollLeft=t)}function s(e){return e!==document&&e?e.scrollLeft:document.documentElement.scrollLeft||document.body.scrollLeft}function a(){return window.innerWidth?{height:window.innerHeight}:"CSS1Compat"===document.compatMode?{height:document.documentElement.clientHeight}:{height:document.body.clientHeight}}function l(e){return e!==document&&e?e.scrollHeight:document.documentElement.scrollHeight||document.body.scrollHeight}function d(e){if(e){var t=e.target.scrollTop,n=document.querySelector(".topTitle").offsetHeight,o=document.querySelector(".headerTop").offsetHeight,i=n-o,r=t/i;document.querySelector(".headerTop").style.opacity=t>i?1:r}}},"3b2b":function(e,t,n){var o=n("7726"),i=n("5dbc"),r=n("86cc").f,c=n("9093").f,s=n("aae3"),a=n("0bfb"),l=o.RegExp,d=l,u=l.prototype,f=/a/g,p=/a/g,h=new l(f)!==f;if(n("9e1e")&&(!h||n("79e5")(function(){return p[n("2b4c")("match")]=!1,l(f)!=f||l(p)==p||"/a/i"!=l(f,"i")}))){l=function(e,t){var n=this instanceof l,o=s(e),r=void 0===t;return!n&&o&&e.constructor===l&&r?e:i(h?new d(o&&!r?e.source:e,t):d((o=e instanceof l)?e.source:e,o&&r?a.call(e):t),n?this:u,l)};for(var m=function(e){e in l||r(l,e,{configurable:!0,get:function(){return d[e]},set:function(t){d[e]=t}})},v=c(d),g=0;v.length>g;)m(v[g++]);u.constructor=l,l.prototype=u,n("2aba")(o,"RegExp",l)}n("7a56")("RegExp")},"6e19":function(e,t,n){},"8ac4":function(e,t,n){"use strict";function o(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function i(e){this.offsetHeight<this.scrollHeight?e._isScroller=!0:e._isScroller=!1}function r(e){e.hasOwnProperty("_isScroller")&&!1===e._isScroller&&e.preventDefault()}t["a"]={inserted:function(e,t){var n=navigator.userAgent.indexOf("iPhone");if(-1!==n){var c=o.bind(e),s=i.bind(e);e.touchstart=c,e.touchmove=s,e.addEventListener("touchstart",c,!1),e.addEventListener("touchmove",s,!1),document.body.addEventListener("touchmove",r,!1)}},unbind:function(e){var t=navigator.userAgent.indexOf("iPhone");if(-1!==t){var n=e.touchstart,o=e.touchmove;e.touchstart=null,e.touchmove=null,e.removeEventListener("touchstart",n,!1),e.removeEventListener("touchmove",o,!1)}}}},"8b3f":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.reachBtm&&e.needScroll,expression:"reachBtm && needScroll"}],ref:"wrapper",attrs:{id:"loading"}},[e._v(e._s(e.isBrand?"持续更新中":"- 已经到底了 -"))])},i=[];n("c5f6");function r(e){var t=getComputedStyle(e)["overflow-y"];return"scroll"===t||"auto"===t?e:e===document.documentElement?document:r(e.parentNode)}var c={name:"list-loading",props:{reachBtm:Boolean,isWaiting:Boolean,isBrand:Boolean,distance:{type:Number,default:parseInt(window.innerHeight/3)}},data:function(){return{parent:null,needScroll:!1,noMoreText:"- 已经到底了 -",continue:"持续更新中",observerConfig:{attributes:!1,childList:!0,subtree:!0},observer:null,scrollObserver:null,scrollObserverConfig:{attributes:!0,childList:!1,subtree:!1}}},mounted:function(){this.parent=r(this.$refs.wrapper),this.parent.addEventListener("scroll",this.handleScroll),this.checkNeedScroll();var e={attributes:!1,childList:!0,subtree:!0},t=new MutationObserver(this.checkNeedScroll);t.observe(this.parent===document?document.body:this.parent,e),this.observer=t;var n={attributes:!0,childList:!1,subtree:!1};this.scrollObserver=new MutationObserver(this.checkScrollStatus),this.scrollObserver.observe(this.parent,n)},methods:{loadMore:function(e){this.$emit("loadMore",e)},handleScroll:function(){if(!this.reachBtm&&!this.isWaiting){var e=0,t=0,n=0;this.parent===document?(e=window.pageYOffset,t=document.documentElement.offsetHeight,n=window.innerHeight):(e=this.parent.scrollTop,t=this.parent.scrollHeight,n=this.parent.clientHeight),e>0&&e+n+this.distance>=t&&this.$emit("loadMore")}},checkNeedScroll:function(e){var t=this;this.$nextTick(function(){t.parent===document?t.needScroll=window.innerHeight<document.documentElement.offsetHeight:t.needScroll=t.parent.clientHeight<t.parent.scrollHeight})},checkScrollStatus:function(){if(this.parent!==document){var e=r(this.$refs.wrapper);e!==this.parent&&(this.unbind(),this.parent=e,this.parent.addEventListener("scroll",this.handleScroll),this.observer.observe(this.parent===document?document.body:this.parent,this.observerConfig),this.parent!==document&&this.scrollObserver.observe(this.parent,this.scrollObserverConfig))}},unbind:function(){this.parent.removeEventListener("scroll",this.handleScroll),this.observer.disconnect(),this.scrollObserver.disconnect()}},beforeDestroy:function(){this.unbind()}},s=c,a=(n("ce09"),n("2877")),l=Object(a["a"])(s,o,i,!1,null,"7cd3b10d",null);t["a"]=l.exports},a21f:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return s}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return l});var o=n("ac2d"),i=null;function r(e){var t=e.force,n=void 0!==t&&t,r=e.vm;return new Promise(function(e,t){if(i&&!n)e(i);else if(o["a"].sourceType())o["a"].gainLocation(function(n){var o=n.result;o&&o.gdLatitude&&o.gdLongitude?(i=o,e(o)):t(new Error("获取位置失败"))},r);else{var c={gdLatitude:"31.24916171",gdLongitude:"121.48789949"};e(c)}})}function c(){return new Promise(function(e,t){o["a"].getClientInfo(function(n){var o=n.msgCode,i=n.result;100===+o?(console.log("getDeviceIdgetDeviceId",i),e(i)):t(new Error("获取设备信息失败"))})})}function s(e){e.force;var t=e.vm;return new Promise(function(e,n){if(o["a"].sourceType())o["a"].gainNowLocation(function(t){var o=t.msgCode,r=t.result;100===o&&r&&r.gdLatitude&&r.gdLongitude?(i=r,e(r)):n(new Error("获取位置失败"))},t);else{var r={gdLatitude:"31.312764",gdLongitude:"121.393972"};e(r)}})}function a(e,t){}function l(){return Promise.resolve({gdLatitude:"31.24916171",gdLongitude:"121.48789949"})}},b1ce:function(e,t,n){},ce09:function(e,t,n){"use strict";var o=n("b1ce"),i=n.n(o);i.a},ed08:function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"a",function(){return s}),n.d(t,"g",function(){return a}),n.d(t,"c",function(){return l}),n.d(t,"f",function(){return d}),n.d(t,"j",function(){return h}),n.d(t,"h",function(){return g}),n.d(t,"b",function(){return b}),n.d(t,"e",function(){return w}),n.d(t,"i",function(){return y});var o=n("f121"),i=n("f76d"),r=o["a"].ENV_URL,c=function(e){return"".concat(r,"/#").concat(e)},s=function(){return new Promise(function(e,t){if(window.AMap)e(window.AMap);else{var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="http://webapi.amap.com/maps?v=1.4.14&callback=initAMap&key=555c914c29cb33d914437914f1b79b49",n.onerror=t,document.head.appendChild(n)}window.initAMap=function(){e(window.AMap)}})};function a(e,t){"string"===typeof t?localStorage.setItem(e,t):localStorage.setItem(e,JSON.stringify(t))}function l(e){var t=localStorage.getItem(e);if("string"===typeof t)try{return JSON.parse(t)}catch(n){return t}}var d={appScheme:"metro://",downloadAppUrl:"http://anijue.bangdao-tech.com/p/q/jhbvw8xg/pages/share/index.html",packageName:"com.app.shanghai.metro",otherAppPage:"metro://qrcode"},u=Object(i["a"])(),f="",p="";"iOS"===u?(f="https://itunes.apple.com/cn/app/id1395725438",p="saicpassenger://"):f="https://marketing.saicmobility.com/mis-h5/app-download";var h={appScheme:"saicpassenger://",downloadAppUrl:f,packageName:"com.saicmobility.user",otherAppPage:p},m="",v="";"iOS"===u?(m="https://apps.apple.com/cn/app/id732618720",v="shiminyun://"):m="http://m.eshimin.com/";var g={appScheme:"shiminyun://",downloadAppUrl:m,packageName:"mobi.w3studio.apps.android.shsmy.phone",otherAppPage:v},b=["1、打开微信“乘车码”小程序，点击“开通乘车码”","2、选择优先扣费方式，并开通免密支付","3、开通成功后，日常使用“游上海”APP公交乘车码即可快捷乘车"],w=["1、下载Metro大都会App，并注册登录",'2、进入底部菜单栏"乘车"页面后，点击 “立即开通”(需要打开蓝牙)',"3、开通成功后，日常使用游上海App地铁乘车码即可快捷乘车"],y=function(e){e="string"===typeof e?e:String(e);var t=/^[\d]{17}[0-9|X|x]{1}$/;if(t.test(e)){var n=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],o=e.slice(0,17),i=e.slice(17,18);i=isNaN(parseInt(i))?i.toLowerCase():parseInt(i);for(var r=0,c=0;c<17;c++)r=(r+=parseInt(o.charAt(c))*n[c])%11;var s=[1,0,"X",9,8,7,6,5,4,3,2],a="X"===s[r]?s[r].toLowerCase():s[r];return i===a?{code:0,msg:e}:{code:0,msg:"你输入的身份证号码格式不对!"}}return{code:0,msg:"你输入的身份证号码格式不对,请重新输入!"}}},f6dd:function(e,t,n){"use strict";var o=n("6e19"),i=n.n(o);i.a},fd95:function(e,t,n){"use strict";n("6762"),n("2fdb");var o=n("ac2d"),i=n("a599"),r=n("ed08");t["a"]={methods:{setHeader:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150,n=this.$refs.header;n.style.display=e.scrollTop>0?"flex":"none",n.style.opacity=e.scrollTop/t>1?1:e.scrollTop/t},onScroll:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.isFinishPullUp){var n=e.scrollHeight,o=e.scrollTop+document.documentElement.clientHeight;o>=n-t&&(this.isFinishPullUp=!0,i["a"].$emit("_pullingUp"))}},onPullUp:function(e){i["a"].$on("_pullingUp",function(){e&&e()})},finishPullUp:function(){this.isFinishPullUp=!1},toDetail:function(e){o["a"].openNewWebView({url:Object(r["d"])("/list-detail/".concat(e)),isFitWindow:!1})},cropImageUrl:function(e,t,n){return e.includes("?")?"".concat(e,"&imageView2/1/w/").concat(t,"/h/").concat(n):"".concat(e,"?imageView2/1/w/").concat(t,"/h/").concat(n)}}}},fe54:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"culture-template"}},[n("div",{directives:[{name:"fixBottom",rawName:"v-fixBottom"}],ref:"scroll",attrs:{id:"scroll"},on:{"&scroll":function(t){return e.handleScroll(t)}}},[n("div",{ref:"top",attrs:{id:"bg"}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:{src:e.bgUrl},expression:"{src: bgUrl}"}],ref:"img",attrs:{id:"top-img",alt:""}}),e.$slots.topTitle?n("div",{attrs:{id:"topTitle"},on:{click:function(t){return t.stopPropagation(),e.goView(t)}}},[e._t("topTitle"),e.videoUrl&&e.needVideoIcon?n("div",{staticClass:"video-play iconfont iconicon_bofang"}):e._e(),e.detailUrl?n("div",{staticClass:"video-play iconfont iconicon_zhenxuanmeishi"}):e._e()],2):e._e(),n("div",{attrs:{id:"min_title"}},[e._t("title")],2)]),n("div",{ref:"main",attrs:{id:"main"}},[n("div",{attrs:{id:"main-top"}},[e.nav&&e.nav.length>0?n("div",{attrs:{id:"nav"}},e._l(e.nav,function(t,o){return n("div",{key:"nav"+o,staticClass:"nav-item",on:{click:function(n){return e.goTo(t)}}},[n("div",{staticClass:"nav-item-bg",class:t.className,style:{backgroundImage:"url("+t.url+")"}}),n("div",{staticClass:"nav-item-label"},[e._v(e._s(t.label))])])}),0):e._e(),e.$slots.image?n("div",{attrs:{id:"ad"}},[e._t("image")],2):e._e(),e.$slots.switch?n("div",{ref:"switch",class:{switchFixed:e.switchFixed,performFixed:e.performFixed},attrs:{id:"switch"}},[e._t("switch"),e.performFixed?n("div",{staticClass:"perform-content",class:{isBrandTop:e.isBrandTop}}):e._e()],2):e._e(),n("div",{staticClass:"placeholder",class:{showHolder:e.switchFixed}})]),e._t("default")],2)])])},i=[],r=n("ed08"),c=n("ac2d"),s=n("fd95"),a=n("8ac4"),l=n("26a1"),d=n("a21f"),u={name:"culture-template",props:{isGoTop:{type:Boolean,default:!1},setAppTitle:{type:Boolean,default:!1},isPerformTop:{type:Boolean,default:!1},isBrandTop:{type:Boolean,default:!1},title:String,bgUrl:String,videoUrl:String,needVideoIcon:{type:Boolean,default:!0},detailUrl:String,nav:Array,ad:Object},data:function(){return{bgVisible:!0,bgPosition:{},switchFixed:!1,performFixed:!1,fixedTop:"",goTopThreshold:0}},directives:{fixBottom:a["a"]},mixins:[s["a"]],mounted:function(){var e=this;this.$nextTick(function(){e.isPerformTop&&(e.fixedTop=Object(l["b"])(document.querySelector(".performTabs"))),e.isGoTop&&(e.goTopThreshold=e.$refs.switch.getBoundingClientRect().top)})},methods:{goView:function(){this.detailUrl?c["a"].openNewWebView({url:this.detailUrl,isFitWindow:!1}):this.videoUrl&&c["a"].openVideo({videoURL:this.videoUrl})},changePosition:function(){this.performFixed&&(this.$refs.scroll.scrollTop=this.fixedTop+1),this.switchFixed&&(this.$refs.scroll.scrollTop=this.goTopThreshold+1)},handleScroll:function(){if(this.isGoTop){var e=this.$refs.scroll.scrollTop;e>this.goTopThreshold?this.switchFixed=!0:this.switchFixed=!1}if(this.isPerformTop){var t=this.$refs.scroll.scrollTop;t>this.fixedTop?this.performFixed=!0:this.performFixed=!1}},goTo:function(e){var t=e.path,n=e.outerlink,o=e.isFitWindow,i=void 0===o||o,s=e.provider,a=n||Object(r["d"])(t);c["a"].openNewWebView({url:a,isFitWindow:i,callback:function(){s&&Object(d["a"])(a,s)}})}}},f=u,p=(n("f6dd"),n("2877")),h=Object(p["a"])(f,o,i,!1,null,"2f3df451",null);t["a"]=h.exports}}]);