(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["districtDetail~districtDetailOld"],{"0a49":function(t,e,n){var i=n("9b43"),r=n("626a"),a=n("4bf8"),c=n("9def"),o=n("cd1c");t.exports=function(t,e){var n=1==t,s=2==t,u=3==t,d=4==t,l=6==t,f=5==t||l,p=e||o;return function(e,o,m){for(var v,h,g=a(e),b=r(g),w=i(o,m,3),y=c(b.length),I=0,A=n?p(e,y):s?p(e,0):void 0;y>I;I++)if((f||I in b)&&(v=b[I],h=w(v,I,g),t))if(n)A[I]=h;else if(h)switch(t){case 3:return!0;case 5:return v;case 6:return I;case 2:A.push(v)}else if(d)return!1;return l?-1:u||d?d:A}}},1169:function(t,e,n){var i=n("2d95");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"2f21":function(t,e,n){"use strict";var i=n("79e5");t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},3925:function(t,e,n){"use strict";var i=n("6e11"),r=n.n(i);r.a},"49a2":function(t,e,n){"use strict";n.d(e,"a",function(){return c}),n.d(e,"c",function(){return o});n("6762"),n("2fdb");var i=750,r=window.innerWidth*window.devicePixelRatio,a=r/i,c=function(t,e,n){if(!e)return t;var i=parseInt(e*a),r=0;n&&(r=parseInt(n*a));var c=t;return i&&(c=t.includes("?")?"".concat(t,"&imageView2/1/w/").concat(i):"".concat(t,"?imageView2/1/w/").concat(i)),r&&(c="".concat(c,"/h/").concat(r)),c},o=function(t,e,n){if(!e)return t;var i=parseInt(e*a),r=0;n&&(r=parseInt(n*a));var c=t;return i&&(c=t.includes("?")?"".concat(t,"&imageMogr2/thumbnail/").concat(i,"x"):"".concat(t,"?imageMogr2/thumbnail/").concat(i,"x")),r&&(c="".concat(c).concat(r)),c};e["b"]={methods:{clipImage:c,resizeImage:o}}},"4e2d":function(t,e,n){},"55dd":function(t,e,n){"use strict";var i=n("5ca1"),r=n("d8e8"),a=n("4bf8"),c=n("79e5"),o=[].sort,s=[1,2,3];i(i.P+i.F*(c(function(){s.sort(void 0)})||!c(function(){s.sort(null)})||!n("2f21")(o)),"Array",{sort:function(t){return void 0===t?o.call(a(this)):o.call(a(this),r(t))}})},6419:function(t,e,n){"use strict";var i=n("ac2d"),r=n("ed08");e["a"]={methods:{viewDetail:function(t){var e=t.id,n=t.dis;e&&i["a"].openNewWebView({url:Object(r["d"])("/list-detail/".concat(e,"?dis=").concat(n)),isFitWindow:!1})}}}},"68f8":function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return s});n("55dd"),n("28a5"),n("7514"),n("6762"),n("2fdb");var i=n("ac2d"),r=n("90e9"),a=n("6419"),c=n("ed08"),o={methods:{goToSite:function(t){var e=t.lmmId,n=t.vrLink,r=t.jumpType,o=t.url;if(n){var s=!(1===+r);o.includes("http")||(o=Object(c["d"])(o)),i["a"].openNewWebView({url:o,isFitWindow:s})}else e?i["a"].openNewWebView({url:"https://www.yobab2b.com/h5/public/?userId=79076#/ticket/detail?productId=".concat(e,"&userId=79076"),isFitWindow:!0}):a["a"].methods.viewDetail(t)}}},s={methods:{getCatetoryInfo:function(t){var e=this;return new Promise(function(n){Object(r["b"])().then(function(n){var i=n.find(function(e){return+e.categoryId===t});e.allDistrictsData=n.filter(function(t){if(+t.parentId===i){var e=n.find(function(e){return+e.parentId===t.id&&"1"===e.categoryId.split("-").slice(-1)[0]}),r=n.find(function(e){return+e.parentId===t.id&&"2"===e.categoryId.split("-").slice(-1)[0]}),a=n.find(function(e){return+e.parentId===t.id&&"3"===e.categoryId.split("-").slice(-1)[0]}),c=n.find(function(e){return+e.parentId===t.id&&"4"===e.categoryId.split("-").slice(-1)[0]});if(t.detailId=e.categoryId,r&&(t.videoId=r.categoryId),a){var o=n.filter(function(t){return+t.parentId===+a.id});t.blocks=o}return c&&(t.activityId=c.categoryId),t.imageUrl=e.imageUrl,!0}return!1}),e.allDistrictsData.sort(function(t,e){return t.weight-e.weight})})})}}}},"6e11":function(t,e,n){},7514:function(t,e,n){"use strict";var i=n("5ca1"),r=n("0a49")(5),a="find",c=!0;a in[]&&Array(1)[a](function(){c=!1}),i(i.P+i.F*c,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(a)},"7b7b":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAYCAYAAAD3Va0xAAAB2UlEQVQ4jZWVucrCQBSFTwZ3cAFxRxAsBO0EG0W00jfwIX0EW5fCXqwUxN3CxgWx8ecMRCaZ5FcPRMZ7z/0cTzJqvF6vF2za7/dYLBY4HA643++yGQqFkE6nUSwWkclk7COwgC6XC4bDIXa7nWZUlc1m0Ww2EQ6HddDpdMJgMMDj8fgXYioQCKDT6SCZTMqK4Mv1ev0JQtHLGc6+QaPRyBXCbHi5wThLeRjoZrPRTPl8HvV6/Z0D85tMJliv1xYfZ8kQy+VSgxQKBXS7XUuYXLPGnl1kCN5qVUIINBoN12zYo0cVGeJ2u1mK0WgUwWDQFcQeParIEHa63+93hbh5yBDxeNxSPJ/PH0F2Dxkil8tZis/nE/P53BXCHj2qyBClUgkej8fSmE6nWK1WGoQ19lRxlgx5RMbjseMu+EmpVEquj8cjttut5imXy/J5kyA+of1+X9vyJ/l8PvR6PXnu5C3jolqt/gShOMNZmGeNqlQqSCQSX0Po5YypN8gwDLRaLS14J9FDL2c0EBWLxVCr1T6C6KFXlbCbuF2ng2mKPfUrOe7IFLcdiUS0OmvsOckR5PV65c8ob68prllj72sQxQza7bYMlBfX9lxUOf4dqZrNZvKtUy5vAfgDyR67rdYND+UAAAAASUVORK5CYII="},"8b3f":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.reachBtm&&t.needScroll,expression:"reachBtm && needScroll"}],ref:"wrapper",attrs:{id:"loading"}},[t._v(t._s(t.isBrand?"持续更新中":"- 已经到底了 -"))])},r=[];n("c5f6");function a(t){var e=getComputedStyle(t)["overflow-y"];return"scroll"===e||"auto"===e?t:t===document.documentElement?document:a(t.parentNode)}var c={name:"list-loading",props:{reachBtm:Boolean,isWaiting:Boolean,isBrand:Boolean,distance:{type:Number,default:parseInt(window.innerHeight/3)}},data:function(){return{parent:null,needScroll:!1,noMoreText:"- 已经到底了 -",continue:"持续更新中",observerConfig:{attributes:!1,childList:!0,subtree:!0},observer:null,scrollObserver:null,scrollObserverConfig:{attributes:!0,childList:!1,subtree:!1}}},mounted:function(){this.parent=a(this.$refs.wrapper),this.parent.addEventListener("scroll",this.handleScroll),this.checkNeedScroll();var t={attributes:!1,childList:!0,subtree:!0},e=new MutationObserver(this.checkNeedScroll);e.observe(this.parent===document?document.body:this.parent,t),this.observer=e;var n={attributes:!0,childList:!1,subtree:!1};this.scrollObserver=new MutationObserver(this.checkScrollStatus),this.scrollObserver.observe(this.parent,n)},methods:{loadMore:function(t){this.$emit("loadMore",t)},handleScroll:function(){if(!this.reachBtm&&!this.isWaiting){var t=0,e=0,n=0;this.parent===document?(t=window.pageYOffset,e=document.documentElement.offsetHeight,n=window.innerHeight):(t=this.parent.scrollTop,e=this.parent.scrollHeight,n=this.parent.clientHeight),t>0&&t+n+this.distance>=e&&this.$emit("loadMore")}},checkNeedScroll:function(t){var e=this;this.$nextTick(function(){e.parent===document?e.needScroll=window.innerHeight<document.documentElement.offsetHeight:e.needScroll=e.parent.clientHeight<e.parent.scrollHeight})},checkScrollStatus:function(){if(this.parent!==document){var t=a(this.$refs.wrapper);t!==this.parent&&(this.unbind(),this.parent=t,this.parent.addEventListener("scroll",this.handleScroll),this.observer.observe(this.parent===document?document.body:this.parent,this.observerConfig),this.parent!==document&&this.scrollObserver.observe(this.parent,this.scrollObserverConfig))}},unbind:function(){this.parent.removeEventListener("scroll",this.handleScroll),this.observer.disconnect(),this.scrollObserver.disconnect()}},beforeDestroy:function(){this.unbind()}},o=c,s=(n("ce09"),n("2877")),u=Object(s["a"])(o,i,r,!1,null,"7cd3b10d",null);e["a"]=u.exports},a21f:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"d",function(){return c}),n.d(e,"e",function(){return o}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return u});var i=n("ac2d"),r=null;function a(t){var e=t.force,n=void 0!==e&&e,a=t.vm;return new Promise(function(t,e){if(r&&!n)t(r);else if(i["a"].sourceType())i["a"].gainLocation(function(n){var i=n.result;i&&i.gdLatitude&&i.gdLongitude?(r=i,t(i)):e(new Error("获取位置失败"))},a);else{var c={gdLatitude:"31.24916171",gdLongitude:"121.48789949"};t(c)}})}function c(){return new Promise(function(t,e){i["a"].getClientInfo(function(n){var i=n.msgCode,r=n.result;100===+i?(console.log("getDeviceIdgetDeviceId",r),t(r)):e(new Error("获取设备信息失败"))})})}function o(t){t.force;var e=t.vm;return new Promise(function(t,n){if(i["a"].sourceType())i["a"].gainNowLocation(function(e){var i=e.msgCode,a=e.result;100===i&&a&&a.gdLatitude&&a.gdLongitude?(r=a,t(a)):n(new Error("获取位置失败"))},e);else{var a={gdLatitude:"31.312764",gdLongitude:"121.393972"};t(a)}})}function s(t,e){}function u(){return Promise.resolve({gdLatitude:"31.24916171",gdLongitude:"121.48789949"})}},b0d6:function(t,e,n){"use strict";var i=n("4e2d"),r=n.n(i);r.a},b1ce:function(t,e,n){},c217:function(t,e,n){"use strict";var i=n("cd6b"),r=n.n(i);r.a},c4bd:function(t,e,n){t.exports=n.p+"img/play@3x.c69bad94.png"},ca2e:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.bannerUrl?n("div",{attrs:{id:"banner"},on:{click:t.viewDetail}},[n("img",{attrs:{src:t.bannerImageUrl,alt:""}})]):t._e()},r=[],a=(n("6762"),n("2fdb"),n("ac2d")),c={name:"district-banner",props:{bannerId:String,bannerImageUrl:String,bannerUrl:String},methods:{viewDetail:function(){a["a"].openNewWebView({url:this.bannerUrl,isFitWindow:!this.bannerUrl.includes("list-detail")})}}},o=c,s=(n("b0d6"),n("2877")),u=Object(s["a"])(o,i,r,!1,null,"c58a0ee2",null);e["a"]=u.exports},cd1c:function(t,e,n){var i=n("e853");t.exports=function(t,e){return new(i(t))(e)}},cd6b:function(t,e,n){},ce09:function(t,e,n){"use strict";var i=n("b1ce"),r=n.n(i);r.a},d6a0:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"d",function(){return a}),n.d(e,"a",function(){return c}),n.d(e,"e",function(){return o});var i="district_search",r="district_active",a="district_video",c=null,o=function(t){c=t}},e853:function(t,e,n){var i=n("d3f4"),r=n("1169"),a=n("2b4c")("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&(e=e[a],null===e&&(e=void 0))),void 0===e?Array:e}},ed08:function(t,e,n){"use strict";n.d(e,"d",function(){return c}),n.d(e,"a",function(){return o}),n.d(e,"g",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"f",function(){return d}),n.d(e,"j",function(){return m}),n.d(e,"h",function(){return g}),n.d(e,"b",function(){return b}),n.d(e,"e",function(){return w}),n.d(e,"i",function(){return y});var i=n("f121"),r=n("f76d"),a=i["a"].ENV_URL,c=function(t){return"".concat(a,"/#").concat(t)},o=function(){return new Promise(function(t,e){if(window.AMap)t(window.AMap);else{var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="http://webapi.amap.com/maps?v=1.4.14&callback=initAMap&key=555c914c29cb33d914437914f1b79b49",n.onerror=e,document.head.appendChild(n)}window.initAMap=function(){t(window.AMap)}})};function s(t,e){"string"===typeof e?localStorage.setItem(t,e):localStorage.setItem(t,JSON.stringify(e))}function u(t){var e=localStorage.getItem(t);if("string"===typeof e)try{return JSON.parse(e)}catch(n){return e}}var d={appScheme:"metro://",downloadAppUrl:"http://anijue.bangdao-tech.com/p/q/jhbvw8xg/pages/share/index.html",packageName:"com.app.shanghai.metro",otherAppPage:"metro://qrcode"},l=Object(r["a"])(),f="",p="";"iOS"===l?(f="https://itunes.apple.com/cn/app/id1395725438",p="saicpassenger://"):f="https://marketing.saicmobility.com/mis-h5/app-download";var m={appScheme:"saicpassenger://",downloadAppUrl:f,packageName:"com.saicmobility.user",otherAppPage:p},v="",h="";"iOS"===l?(v="https://apps.apple.com/cn/app/id732618720",h="shiminyun://"):v="http://m.eshimin.com/";var g={appScheme:"shiminyun://",downloadAppUrl:v,packageName:"mobi.w3studio.apps.android.shsmy.phone",otherAppPage:h},b=["1、打开微信“乘车码”小程序，点击“开通乘车码”","2、选择优先扣费方式，并开通免密支付","3、开通成功后，日常使用“游上海”APP公交乘车码即可快捷乘车"],w=["1、下载Metro大都会App，并注册登录",'2、进入底部菜单栏"乘车"页面后，点击 “立即开通”(需要打开蓝牙)',"3、开通成功后，日常使用游上海App地铁乘车码即可快捷乘车"],y=function(t){t="string"===typeof t?t:String(t);var e=/^[\d]{17}[0-9|X|x]{1}$/;if(e.test(t)){var n=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],i=t.slice(0,17),r=t.slice(17,18);r=isNaN(parseInt(r))?r.toLowerCase():parseInt(r);for(var a=0,c=0;c<17;c++)a=(a+=parseInt(i.charAt(c))*n[c])%11;var o=[1,0,"X",9,8,7,6,5,4,3,2],s="X"===o[a]?o[a].toLowerCase():o[a];return r===s?{code:0,msg:t}:{code:0,msg:"你输入的身份证号码格式不对!"}}return{code:0,msg:"你输入的身份证号码格式不对,请重新输入!"}}},f71a:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.districtData.simpleInfo?n("div",{attrs:{id:"history-wrapper"}},[n("div",{attrs:{id:"history-title"}},[t._v("历史追溯")]),n("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.districtData.imgUrl,expression:"districtData.imgUrl",arg:"background-image"}],attrs:{id:"history-bg"}}),n("div",{staticClass:"desc fix",staticStyle:{"font-size":"14px"},style:{height:t.completeHistory?"auto":t.foldHeight},domProps:{innerHTML:t._s(t.districtData.simpleInfo)}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.completeHistory,expression:"!completeHistory"}],staticClass:"ellipsis"},[t._v("...")]),n("div",{staticClass:"read"},[n("div",{on:{click:t.readCompleteHistory}},[t._v(t._s(t.completeHistory?"收起":"继续阅读"))])])]):t._e()},r=[],a={name:"district-history",props:{districtData:Object,foldHeight:String},data:function(){return{completeHistory:!1}},methods:{readCompleteHistory:function(){this.completeHistory=!this.completeHistory}}},c=a,o=(n("3925"),n("2877")),s=Object(o["a"])(c,i,r,!1,null,null,null);e["a"]=s.exports},fa7a:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"site-list"}},[i("div",{attrs:{id:"list-wrapper"}},t._l(t.list,function(e){return i("div",{key:"site"+e.id,staticClass:"city-site-item",on:{click:function(n){return t.goToSite(e)}}},[i("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.imgUrl,expression:"item.imgUrl",arg:"background-image"}],staticClass:"city-site-bg"}),i("div",{staticClass:"city-site-btm"},[i("div",{staticClass:"city-site-name"},[t._v(t._s(e.title)+"\n\t\t\t\t\t"),e.lmmId?i("div",{staticClass:"city-site-ticket"},[t._v("可购票")]):t._e()]),e.customTags&&e.customTags.length>0?i("div",{staticClass:"row hiddenLine1"},t._l(e.customTags,function(e,n){return i("i",{key:n},[e?i("span",{staticClass:"span"},[t._v(t._s(e)+"\n\t\t\t\t\t")]):t._e()])}),0):t._e(),e.address?i("div",{staticClass:"city-site-location"},[i("img",{staticClass:"city-site-icon",attrs:{src:n("7b7b")}}),i("span",[t._v(t._s(e.address))])]):t._e()])])}),0),i("loading",{attrs:{reachBtm:t.reachBtm,isWaiting:t.isWaiting}})],1)},r=[],a=n("8b3f"),c=n("68f8"),o={name:"site-list",computed:{reachBtm:function(){return this.list.length>0},isWaiting:function(){return!this.reachBtm}},props:{list:Array},mixins:[c["b"]],components:{loading:a["a"]}},s=o,u=(n("c217"),n("2877")),d=Object(u["a"])(s,i,r,!1,null,"e4a6ce22",null);e["a"]=d.exports},ffbe:function(t,e,n){"use strict";n.d(e,"b",function(){return r});n("7514");var i=n("49a2"),r={methods:{getVideoLink:function(t){var e=t.medias.find(function(t){return 2===+t.mediaType});return e?e.url:""}}};e["a"]={methods:{getImageList:function(t){var e=t.item,n=t.single,r=void 0===n||n,a=t.clip,c=void 0===a||a,o=t.width,s=t.height;if(r){var u=e.medias.find(function(t){return 1===+t.mediaType&&(e.imgUrl=e.url=c?Object(i["a"])(t.url,o,s):Object(i["c"])(t.url,o,s),!0)}),d=!!u;return d||console.warn("存在无图片条目",e),d}e.imageList=e.medias.filter(function(t){return 1===+t.mediaType&&(t.imgUrl=t.url=c?Object(i["a"])(t.url,o,s):Object(i["c"])(t.url,o,s),!0)});var l=e.imageList.length>0;return l||console.warn("存在无图片条目",e),l}}}}}]);