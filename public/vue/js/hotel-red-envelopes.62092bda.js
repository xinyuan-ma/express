(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["hotel-red-envelopes"],{2926:function(t,a,e){"use strict";var s=e("fbdc"),i=e.n(s);i.a},"3b2b":function(t,a,e){var s=e("7726"),i=e("5dbc"),n=e("86cc").f,l=e("9093").f,o=e("aae3"),c=e("0bfb"),r=s.RegExp,u=r,p=r.prototype,d=/a/g,f=/a/g,h=new r(d)!==d;if(e("9e1e")&&(!h||e("79e5")(function(){return f[e("2b4c")("match")]=!1,r(d)!=d||r(f)==f||"/a/i"!=r(d,"i")}))){r=function(t,a){var e=this instanceof r,s=o(t),n=void 0===a;return!e&&s&&t.constructor===r&&n?t:i(h?new u(s&&!n?t.source:t,a):u((s=t instanceof r)?t.source:t,s&&n?c.call(t):a),e?this:p,r)};for(var g=function(t){t in r||n(r,t,{configurable:!0,get:function(){return u[t]},set:function(a){u[t]=a}})},v=l(u),y=0;v.length>y;)g(v[y++]);p.constructor=r,r.prototype=p,e("2aba")(s,"RegExp",r)}e("7a56")("RegExp")},"62a2":function(t,a,e){"use strict";e("456d"),e("ac6a"),e("3b2b"),e("a481");a["a"]={dateFormat:function(t,a){var e=new Date,s="日一二三四五六";t&&e.setTime(t),a=a||"yyyy-mm-dd";var i={"m+":e.getMonth()+1,"d+":e.getDate(),"w+":s.charAt(e.getDay()),"h+":e.getHours(),"M+":e.getMinutes(),"s+":e.getSeconds()};return/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(e.getFullYear()+"").slice(-RegExp.$1.length))),Object.keys(i).forEach(function(t){new RegExp("(".concat(t,")")).test(a)&&(a=a.replace(RegExp.$1,1===RegExp.$1.length?i[t]:"00".concat(i[t]).slice((""+i[t]).length)))}),a}}},cee2:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"hotel-red-envelopes"},[e("div",{staticClass:"top-wrap",class:{ISIOS:t._isiOS}},[t._isWeixin?t._e():e("div",{ref:"headerWrap",staticClass:"header-wrap",class:{ISIOS:t._isiOS}},[e("header",[e("span",{staticClass:"iconfont iconlist_left",on:{click:t.goBack}}),e("span",{staticClass:"title"},[t._v("余额")])])]),e("div",{staticClass:"amount-wrap"},[e("p",{staticClass:"total-sum"},[t._v("总金额")]),e("div",{staticClass:"flex-between"},[e("p",[e("span",{staticClass:"money-icon"},[t._v("¥")]),e("span",{staticClass:"money"},[t._v(t._s(t.amountMoney))])]),e("div",{staticClass:"btn",on:{click:t.toPage}},[t._v("立刻使用")])]),e("p",{staticClass:"instructions"},[t._v("使用说明")]),e("p",{staticClass:"tips"},[t._v("目前仅供酒店预订使用，其他使用范围将逐步扩大。")])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.listData.length,expression:"listData.length"}],staticClass:"content-wrap"},[e("h5",{staticClass:"list-name"},[t._v("余额明细")]),e("ul",{staticClass:"list-wrap"},t._l(t.listData,function(a,s){return e("li",{key:s,staticClass:"list-item"},[e("p",{staticClass:"flex-between"},[e("span",{staticClass:"type-name hiddenLine1"},[t._v(t._s(t.classifyList[1*a.type].name))]),e("span",{staticClass:"type-name"},[t._v(t._s(t.classifyList[1*a.type].fluctuate)+t._s(t.toYuan(a.benfitdetail)))])]),e("p",{staticClass:"flex-between mt_10"},[e("span",{staticClass:"change-date"},[t._v(t._s(t.dateFormat(a.createTime,"yyyy-mm-dd hh:MM:ss")))]),t.classifyList[1*a.type].validity?e("span",{staticClass:"change-date"},[t._v("有效期：2020-06-30")]):t._e()])])}),0),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isMore,expression:"isMore"}],staticClass:"more",on:{click:t.getMore}},[t._v("查看更多")])])])},i=[],n=e("ac2d"),l=e("f121"),o=e("3911"),c=e("62a2"),r=c["a"].dateFormat,u={data:function(){return{amountMoney:"",scrollData:{headerWrapEl:null,headerWrapH:0,scrollEl:null},classifyList:[{name:"酒店订单预订",fluctuate:"-",validity:!1},{name:"酒店订单取消",fluctuate:"+",validity:!0},{name:"离店返现",fluctuate:"+",validity:!0},{name:"酒店体验金",fluctuate:"+",validity:!0},{name:"酒店预订失败",fluctuate:"+",validity:!0}],pageNo:1,pageSize:10,listData:[],isMore:!1}},mounted:function(){var t=this;n["a"].noCallAppLoginGetInfo(function(a,e){t.queryflow()}),n["a"].refreshPage(function(){n["a"].showLoading(),t.pageNo=1,t.listData=[],t.queryflow()}),this.$nextTick(function(){t._isWeixin||(t.scrollData.scrollEl=document.querySelector(".hotel-red-envelopes"),t.scrollData.headerWrapEl=t.$refs.headerWrap,t.scrollData.headerWrapH=t.scrollData.headerWrapEl.clientHeight,t.scrollData.scrollEl&&t.scrollData.scrollEl.addEventListener("scroll",t.scrollHandler))})},methods:{dateFormat:r,queryflow:function(){var t=this;o["a"].queryflow({pageNo:this.pageNo,pageSize:this.pageSize}).then(function(a){var e=a.result,s=e.flows;if(t.amountMoney=t.toYuan(e.benefit),s.item&&s.item.length){var i=s.item.filter(function(t){return t.type<5});t.listData=t.listData.concat(i),t.isMore=s.isMore}}).catch(function(t){})},getMore:function(){this.pageNo++,n["a"].showLoading(),this.queryflow()},toYuan:function(t){return(t/100).toFixed(2)},scrollHandler:function(){var t=this.scrollData.scrollEl.scrollTop;t>this.scrollData.headerWrapH?this.scrollData.headerWrapEl.style.backgroundColor="rgba(255,255,255,1)":this.scrollData.headerWrapEl.style.backgroundColor="rgba(255,255,255,".concat((t/this.scrollData.headerWrapH).toFixed(2),")")},goBack:function(){n["a"].closeWebView()},toPage:function(){var t="/hotelbooking/hotel/index.html#/list?cityName=%E4%B8%8A%E6%B5%B7&country=0&cityCode=AR04567&type=2";n["a"].openNewWebView({url:"".concat(l["a"].HOTEL_URL).concat(t),isFitWindow:!0})}}},p=u,d=(e("2926"),e("2877")),f=Object(d["a"])(p,s,i,!1,null,"f0974052",null);a["default"]=f.exports},fbdc:function(t,a,e){}}]);