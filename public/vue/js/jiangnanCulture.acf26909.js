(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["jiangnanCulture"],{"0a49":function(t,e,n){var i=n("9b43"),r=n("626a"),o=n("4bf8"),a=n("9def"),c=n("cd1c");t.exports=function(t,e){var n=1==t,s=2==t,u=3==t,l=4==t,d=6==t,f=5==t||d,h=e||c;return function(e,c,p){for(var v,m,g=o(e),b=r(g),w=i(c,p,3),y=a(b.length),L=0,I=n?h(e,y):s?h(e,0):void 0;y>L;L++)if((f||L in b)&&(v=b[L],m=w(v,L,g),t))if(n)I[L]=m;else if(m)switch(t){case 3:return!0;case 5:return v;case 6:return L;case 2:I.push(v)}else if(l)return!1;return d?-1:u||l?l:I}}},1169:function(t,e,n){var i=n("2d95");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"226f":function(t,e,n){},"2ce1":function(t,e,n){"use strict";var i=n("226f"),r=n.n(i);r.a},"369e":function(t,e,n){},"36d3":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"jiang-nan-culture"}},[n("switchTitle",{attrs:{business:t.tab},on:{changeTitle:t.changeTab}}),n("div",{ref:"scroll",attrs:{id:"data-list"}},[n("culture-list",{attrs:{categoryId:t.categoryId}})],1)],1)},r=[],o=n("ac2d"),a=n("9299"),c=n("6e88"),s={name:"jiangnan-culture",components:{switchTitle:a["a"],cultureList:c["a"]},data:function(){var t="江南文化",e=[{title:"水乡古镇",show:!0,categoryId:"2-8"},{title:"民俗风情",show:!1,categoryId:"2-9"}];return{title:t,tab:e,categoryId:e[0].categoryId}},created:function(){o["a"].setAppTitle({title:this.title})},methods:{changeTab:function(t){this.categoryId=this.tab[t].categoryId,this.$refs.scroll.scrollTop=0}}},u=s,l=(n("dba5"),n("2877")),d=Object(l["a"])(u,i,r,!1,null,null,null);e["default"]=d.exports},"49a2":function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"c",function(){return c});n("6762"),n("2fdb");var i=750,r=window.innerWidth*window.devicePixelRatio,o=r/i,a=function(t,e,n){if(!e)return t;var i=parseInt(e*o),r=0;n&&(r=parseInt(n*o));var a=t;return i&&(a=t.includes("?")?"".concat(t,"&imageView2/1/w/").concat(i):"".concat(t,"?imageView2/1/w/").concat(i)),r&&(a="".concat(a,"/h/").concat(r)),a},c=function(t,e,n){if(!e)return t;var i=parseInt(e*o),r=0;n&&(r=parseInt(n*o));var a=t;return i&&(a=t.includes("?")?"".concat(t,"&imageMogr2/thumbnail/").concat(i,"x"):"".concat(t,"?imageMogr2/thumbnail/").concat(i,"x")),r&&(a="".concat(a).concat(r)),a};e["b"]={methods:{clipImage:a,resizeImage:c}}},6419:function(t,e,n){"use strict";var i=n("ac2d"),r=n("ed08");e["a"]={methods:{viewDetail:function(t){var e=t.id,n=t.dis;e&&i["a"].openNewWebView({url:Object(r["d"])("/list-detail/".concat(e,"?dis=").concat(n)),isFitWindow:!1})}}}},"6e88":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"list"}},[t._l(t.list,function(e,i){return n("div",{key:"item"+i+e.id,staticClass:"item",on:{click:function(n){return t.viewDetail(e)}}},[n("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.url,expression:"item.url",arg:"background-image"}],staticClass:"item-bg"}),n("div",{staticClass:"item-btm"},[n("div",{staticClass:"item-name"},[t._v(t._s(e.title))]),n("div",{staticClass:"item-info"},[t._v(t._s(e.simpleInfo))])])])}),n("loading",{attrs:{list:t.list,reachBtm:t.reachBtm,isWaiting:t.isWaiting}})],2)},r=[],o=(n("ac6a"),n("a21f")),a=n("ffbe"),c=n("6419"),s=n("8b3f"),u=n("49a2"),l=n("8ac4"),d={name:"culture-list",data:function(){return{list:[],reachBtm:!0,isWaiting:!0}},props:{categoryId:String},components:{loading:s["a"]},directives:{fixBottom:l["a"]},mixins:[a["a"],c["a"],u["b"]],created:function(){this.getList()},methods:{getList:function(){var t=this;Object(o["b"])({vm:this}).then(function(e){var n={start:t.start,offset:999,categoryId:t.categoryId,channel:1,city:4,lat:e.gdLatitude,lon:e.gdLongitude,language:7,topFlag:!0};t.$axios.content.queryContentByOrganize(n).then(function(e){var n=e.code,i=e.data;if(0===+n){var r=i.result;r.forEach(function(e){e.cover?e.url=t.resizeImage(e.cover,690,250):t.getImageList({item:e,width:690,height:250})}),t.list=r,t.isWaiting=!1}},function(e){throw t.isWaiting=!1,e})})}},watch:{categoryId:function(){this.start=0,this.getList()}}},f=d,h=(n("2ce1"),n("2877")),p=Object(h["a"])(f,i,r,!1,null,"490016f3",null);e["a"]=p.exports},7514:function(t,e,n){"use strict";var i=n("5ca1"),r=n("0a49")(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},"8ac4":function(t,e,n){"use strict";function i(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;0===t?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function r(t){this.offsetHeight<this.scrollHeight?t._isScroller=!0:t._isScroller=!1}function o(t){t.hasOwnProperty("_isScroller")&&!1===t._isScroller&&t.preventDefault()}e["a"]={inserted:function(t,e){var n=navigator.userAgent.indexOf("iPhone");if(-1!==n){var a=i.bind(t),c=r.bind(t);t.touchstart=a,t.touchmove=c,t.addEventListener("touchstart",a,!1),t.addEventListener("touchmove",c,!1),document.body.addEventListener("touchmove",o,!1)}},unbind:function(t){var e=navigator.userAgent.indexOf("iPhone");if(-1!==e){var n=t.touchstart,i=t.touchmove;t.touchstart=null,t.touchmove=null,t.removeEventListener("touchstart",n,!1),t.removeEventListener("touchmove",i,!1)}}}},"8b3f":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.reachBtm&&t.needScroll,expression:"reachBtm && needScroll"}],ref:"wrapper",attrs:{id:"loading"}},[t._v(t._s(t.isBrand?"持续更新中":"- 已经到底了 -"))])},r=[];n("c5f6");function o(t){var e=getComputedStyle(t)["overflow-y"];return"scroll"===e||"auto"===e?t:t===document.documentElement?document:o(t.parentNode)}var a={name:"list-loading",props:{reachBtm:Boolean,isWaiting:Boolean,isBrand:Boolean,distance:{type:Number,default:parseInt(window.innerHeight/3)}},data:function(){return{parent:null,needScroll:!1,noMoreText:"- 已经到底了 -",continue:"持续更新中",observerConfig:{attributes:!1,childList:!0,subtree:!0},observer:null,scrollObserver:null,scrollObserverConfig:{attributes:!0,childList:!1,subtree:!1}}},mounted:function(){this.parent=o(this.$refs.wrapper),this.parent.addEventListener("scroll",this.handleScroll),this.checkNeedScroll();var t={attributes:!1,childList:!0,subtree:!0},e=new MutationObserver(this.checkNeedScroll);e.observe(this.parent===document?document.body:this.parent,t),this.observer=e;var n={attributes:!0,childList:!1,subtree:!1};this.scrollObserver=new MutationObserver(this.checkScrollStatus),this.scrollObserver.observe(this.parent,n)},methods:{loadMore:function(t){this.$emit("loadMore",t)},handleScroll:function(){if(!this.reachBtm&&!this.isWaiting){var t=0,e=0,n=0;this.parent===document?(t=window.pageYOffset,e=document.documentElement.offsetHeight,n=window.innerHeight):(t=this.parent.scrollTop,e=this.parent.scrollHeight,n=this.parent.clientHeight),t>0&&t+n+this.distance>=e&&this.$emit("loadMore")}},checkNeedScroll:function(t){var e=this;this.$nextTick(function(){e.parent===document?e.needScroll=window.innerHeight<document.documentElement.offsetHeight:e.needScroll=e.parent.clientHeight<e.parent.scrollHeight})},checkScrollStatus:function(){if(this.parent!==document){var t=o(this.$refs.wrapper);t!==this.parent&&(this.unbind(),this.parent=t,this.parent.addEventListener("scroll",this.handleScroll),this.observer.observe(this.parent===document?document.body:this.parent,this.observerConfig),this.parent!==document&&this.scrollObserver.observe(this.parent,this.scrollObserverConfig))}},unbind:function(){this.parent.removeEventListener("scroll",this.handleScroll),this.observer.disconnect(),this.scrollObserver.disconnect()}},beforeDestroy:function(){this.unbind()}},c=a,s=(n("ce09"),n("2877")),u=Object(s["a"])(c,i,r,!1,null,"7cd3b10d",null);e["a"]=u.exports},9299:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"discount flex-around"},t._l(t.business,function(e,i){return n("div",{key:i,class:{active:e.show},on:{click:function(e){return t.change(i)}}},[n("p",{staticClass:"text-overflow"},[t._v(t._s(e.title))])])}),0)},r=[],o=(n("ac6a"),{props:["business"],data:function(){return{currentIndex:0}},methods:{change:function(t){this.currentIndex!==t&&(this.currentIndex=t,this.business.forEach(function(t){t.show=!1}),this.business[t].show=!0,this.$emit("changeTitle",t))}}}),a=o,c=(n("c57e"),n("2877")),s=Object(c["a"])(a,i,r,!1,null,"0ee3beb6",null);e["a"]=s.exports},a21f:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"e",function(){return c}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return u});var i=n("ac2d"),r=null;function o(t){var e=t.force,n=void 0!==e&&e,o=t.vm;return new Promise(function(t,e){if(r&&!n)t(r);else if(i["a"].sourceType())i["a"].gainLocation(function(n){var i=n.result;i&&i.gdLatitude&&i.gdLongitude?(r=i,t(i)):e(new Error("获取位置失败"))},o);else{var a={gdLatitude:"31.24916171",gdLongitude:"121.48789949"};t(a)}})}function a(){return new Promise(function(t,e){i["a"].getClientInfo(function(n){var i=n.msgCode,r=n.result;100===+i?(console.log("getDeviceIdgetDeviceId",r),t(r)):e(new Error("获取设备信息失败"))})})}function c(t){t.force;var e=t.vm;return new Promise(function(t,n){if(i["a"].sourceType())i["a"].gainNowLocation(function(e){var i=e.msgCode,o=e.result;100===i&&o&&o.gdLatitude&&o.gdLongitude?(r=o,t(o)):n(new Error("获取位置失败"))},e);else{var o={gdLatitude:"31.312764",gdLongitude:"121.393972"};t(o)}})}function s(t,e){}function u(){return Promise.resolve({gdLatitude:"31.24916171",gdLongitude:"121.48789949"})}},b1ce:function(t,e,n){},c57e:function(t,e,n){"use strict";var i=n("fd04"),r=n.n(i);r.a},cd1c:function(t,e,n){var i=n("e853");t.exports=function(t,e){return new(i(t))(e)}},ce09:function(t,e,n){"use strict";var i=n("b1ce"),r=n.n(i);r.a},dba5:function(t,e,n){"use strict";var i=n("369e"),r=n.n(i);r.a},e853:function(t,e,n){var i=n("d3f4"),r=n("1169"),o=n("2b4c")("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},ed08:function(t,e,n){"use strict";n.d(e,"d",function(){return a}),n.d(e,"a",function(){return c}),n.d(e,"g",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"f",function(){return l}),n.d(e,"j",function(){return p}),n.d(e,"h",function(){return g}),n.d(e,"b",function(){return b}),n.d(e,"e",function(){return w}),n.d(e,"i",function(){return y});var i=n("f121"),r=n("f76d"),o=i["a"].ENV_URL,a=function(t){return"".concat(o,"/#").concat(t)},c=function(){return new Promise(function(t,e){if(window.AMap)t(window.AMap);else{var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src="http://webapi.amap.com/maps?v=1.4.14&callback=initAMap&key=555c914c29cb33d914437914f1b79b49",n.onerror=e,document.head.appendChild(n)}window.initAMap=function(){t(window.AMap)}})};function s(t,e){"string"===typeof e?localStorage.setItem(t,e):localStorage.setItem(t,JSON.stringify(e))}function u(t){var e=localStorage.getItem(t);if("string"===typeof e)try{return JSON.parse(e)}catch(n){return e}}var l={appScheme:"metro://",downloadAppUrl:"http://anijue.bangdao-tech.com/p/q/jhbvw8xg/pages/share/index.html",packageName:"com.app.shanghai.metro",otherAppPage:"metro://qrcode"},d=Object(r["a"])(),f="",h="";"iOS"===d?(f="https://itunes.apple.com/cn/app/id1395725438",h="saicpassenger://"):f="https://marketing.saicmobility.com/mis-h5/app-download";var p={appScheme:"saicpassenger://",downloadAppUrl:f,packageName:"com.saicmobility.user",otherAppPage:h},v="",m="";"iOS"===d?(v="https://apps.apple.com/cn/app/id732618720",m="shiminyun://"):v="http://m.eshimin.com/";var g={appScheme:"shiminyun://",downloadAppUrl:v,packageName:"mobi.w3studio.apps.android.shsmy.phone",otherAppPage:m},b=["1、打开微信“乘车码”小程序，点击“开通乘车码”","2、选择优先扣费方式，并开通免密支付","3、开通成功后，日常使用“游上海”APP公交乘车码即可快捷乘车"],w=["1、下载Metro大都会App，并注册登录",'2、进入底部菜单栏"乘车"页面后，点击 “立即开通”(需要打开蓝牙)',"3、开通成功后，日常使用游上海App地铁乘车码即可快捷乘车"],y=function(t){t="string"===typeof t?t:String(t);var e=/^[\d]{17}[0-9|X|x]{1}$/;if(e.test(t)){var n=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],i=t.slice(0,17),r=t.slice(17,18);r=isNaN(parseInt(r))?r.toLowerCase():parseInt(r);for(var o=0,a=0;a<17;a++)o=(o+=parseInt(i.charAt(a))*n[a])%11;var c=[1,0,"X",9,8,7,6,5,4,3,2],s="X"===c[o]?c[o].toLowerCase():c[o];return r===s?{code:0,msg:t}:{code:0,msg:"你输入的身份证号码格式不对!"}}return{code:0,msg:"你输入的身份证号码格式不对,请重新输入!"}}},fd04:function(t,e,n){},ffbe:function(t,e,n){"use strict";n.d(e,"b",function(){return r});n("7514");var i=n("49a2"),r={methods:{getVideoLink:function(t){var e=t.medias.find(function(t){return 2===+t.mediaType});return e?e.url:""}}};e["a"]={methods:{getImageList:function(t){var e=t.item,n=t.single,r=void 0===n||n,o=t.clip,a=void 0===o||o,c=t.width,s=t.height;if(r){var u=e.medias.find(function(t){return 1===+t.mediaType&&(e.imgUrl=e.url=a?Object(i["a"])(t.url,c,s):Object(i["c"])(t.url,c,s),!0)}),l=!!u;return l||console.warn("存在无图片条目",e),l}e.imageList=e.medias.filter(function(t){return 1===+t.mediaType&&(t.imgUrl=t.url=a?Object(i["a"])(t.url,c,s):Object(i["c"])(t.url,c,s),!0)});var d=e.imageList.length>0;return d||console.warn("存在无图片条目",e),d}}}}}]);